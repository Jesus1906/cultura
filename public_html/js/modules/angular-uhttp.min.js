/**
 * angular-$uhttp - v2.9 - 2021-02-12
 * @author UNION DNC cvillegas
 */
angular.module("$uhttp",[]).provider("$uhttp",function(){function e(c,a){void 0===a&&(a={});var e=2E3,f="",g="";if(void 0!==a[b.severity_wrapper])var d=a[b.severity_wrapper];else void 0!==b.default_severity[c]?d=b.default_severity[c]:200<=c&&299>=c?d="success":499>=c?(d="warning",g=a.toString(),e=3E3):(d="error",g=a.toString(),e=5E3);void 0!==a[b.time_wrapper]&&(e=a[b.time_wrapper]);void 0!==a[b.title_wrapper]?f=a[b.title_wrapper]:void 0!==b.default_titles[c]&&(f=b.default_titles[c]);void 0!==a[b.message_wrapper]?
g=a[b.message_wrapper]:void 0!==b.default_messages[c]&&(g=b.default_messages[c]);"string"===typeof g&&""!==g&&("function"===typeof b[d]?b[d].call(this,g,e,f):alert(g))}function n(c){if("small"===c||"full_screen"===c||"process"===c)0===f[c]&&"function"===typeof b[c+"_loader_start"]&&b[c+"_loader_start"].call(this),f[c]++}function h(c){if("small"===c||"full_screen"===c||"process"===c)f[c]--,1>f[c]&&"function"===typeof b[c+"_loader_done"]&&b[c+"_loader_done"].call(this)}var b={message_wrapper:"message",
severity_wrapper:"severity",time_wrapper:"time",title_wrapper:"title",process_wrapper:"process",default_severity:{201:"success"},default_titles:{},default_messages:{201:"Informaci&oacute;n almacenada correctamente",500:"Error al realizar la petici&oacute;n al servidor"},status_callbacks:{},process_loader_start:void 0,process_loader_update:void 0,process_loader_done:void 0,full_screen_loader_start:void 0,full_screen_loader_done:void 0,small_loader_start:void 0,small_loader_done:void 0,alert:void 0,
error:void 0,info:void 0,success:void 0,warning:void 0,debug:void 0,close_debug:void 0},a={pre_request:{evaluate:void 0,error_mesage:void 0},add_params:null},f={small:0,full_screen:0,process:0},l=0;return{setNotifications:function(c){b=angular.extend(b,c)},setHooks:function(b){a=angular.extend(a,b)},$get:["$http","$q",function(c,f){return function(m){var k=f.defer(),g;"function"!==typeof a.pre_request.evaluate||a.pre_request.evaluate.call(this)||("undefined"!==typeof a.pre_request.message?k.reject():
window.console.warn("Hook message is missing"));var d=angular.extend({headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":void 0},method:"GET",loader:"small",process_url:"",show_notifications:!0},m);"function"===typeof a.add_params&&(m=a.add_params(),d.params=angular.extend(m,d.params));"undefined"!==typeof d.params&&("/"!==d.url[d.url.length-1]&&(d.url+="/"),Object.keys(d.params).forEach(function(b){d.url+=b+"/"+d.params[b]+"/"}),d.params=void 0);"undefined"!==typeof d.data&&(d.data=toFormData(d.data));
"process"===d.loader&&void 0!==d.process_url&&(l=0);n(d.loader);"function"===typeof b.close_debug&&b.close_debug.call(this);c(d).then(function(a){"process"===d.loader&&void 0!==d.process_url&&window.clearInterval(g);h(d.loader);null!==a.data?"undefined"!==typeof a.data.debug&&("function"===typeof b.debug?b.debug.call(this,a.data.debug):alert(a.data.debug)):window.console.warn("Not a formated JSON in response");var c=parseInt(a.status),f=!0;"function"===typeof b.status_callbacks[c]&&(f=b.status_callbacks[c].call(this,
a));f&&(null!==a.data&&d.show_notifications&&e(c,a.data),k.resolve(a.data))},function(a){"process"===d.loader&&void 0!==d.process_url&&window.clearInterval(g);h(d.loader);null!==a.data?"undefined"!==typeof a.data.debug&&("function"===typeof b.debug?b.debug.call(this,a.data.debug):alert(a.data.debug)):window.console.warn("Not a formated JSON in response");var c=parseInt(a.status),f=!0;"function"===typeof b.status_callbacks[c]&&(f=b.status_callbacks[c].call(this,a));f&&(null!==a.data&&e(c,a.data),k.reject(a.data))});
"process"===d.loader&&void 0!==d.process_url&&"function"===typeof b.process_loader_update&&(g=window.setInterval(function(){c({headers:{"Content-Type":void 0},url:d.process_url,method:"GET"}).then(function(a){void 0!==a.data&&a.data[b.process_wrapper]&&l<a.data[b.process_wrapper]&&100>=a.data[b.process_wrapper]&&(l=a.data[b.process_wrapper],b.process_loader_update.call(this,l))})},1E3));return k.promise}}]}});
function toFormData(e,n,h){var b=n||new FormData;if(e instanceof File)b.append(h,e);else if("object"===typeof e)for(var a in e){if(e.hasOwnProperty(a)){var f=h?h+"["+a+"]":a;e[a]instanceof Date?b.append(f,e[a].toISOString()):e[a]instanceof Array?e[a].forEach(function(a,c){toFormData(a,b,f+"["+c+"]")}):e[a]instanceof File?b.append(f,e[a]):"object"===typeof e[a]?toFormData(e[a],b,f):b.append(f,e[a])}}else b.append(h,e);return b};