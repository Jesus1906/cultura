/**
 * State-based routing for AngularJS 1.x
 * NOTICE: This monolithic bundle also bundles the @uirouter/core code.
 *         This causes it to be incompatible with plugins that depend on @uirouter/core.
 *         We recommend switching to the ui-router-core.js and ui-router-angularjs.js bundles instead.
 *         For more information, see https://ui-router.github.io/blog/uirouter-for-angularjs-umd-bundles
 * @version v1.0.25
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 * */
'use strict';(function(e,ka){"object"===typeof exports&&"undefined"!==typeof module?ka(exports,require("angular")):"function"===typeof define&&define.amd?define(["exports","angular"],ka):(e=e||self,ka(e["@uirouter/angularjs"]={},e.angular))})(this,function(e,ka){function la(b){return function c(){if(arguments.length>=b.length)return b.apply(this,arguments);var d=Array.prototype.slice.call(arguments);return c.bind.apply(c,ld([this],d))}}function ub(){var b=arguments,a=b.length-1;return function(){for(var c=
a,d=b[a].apply(this,arguments);c--;)d=b[c].call(this,d);return d}}function ma(){for(var b=0;b<arguments.length;b++);return ub.apply(null,[].slice.call(arguments).reverse())}function vb(b,a){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return b.apply(null,c)&&a.apply(null,c)}}function wb(b,a){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return b.apply(null,c)||a.apply(null,c)}}function xc(b,a){return function(c){return c[b].apply(c,a)}}
function da(b){return function(a){for(var c=0;c<b.length;c++)if(b[c][0](a))return b[c][1](a)}}function ra(b){if(t(b)&&b.length){var a=b.slice(0,-1);b=b.slice(-1);return!(a.filter(Z(q)).length||b.filter(Z(r)).length)}return r(b)}function G(b){return b}function K(){}function ea(b,a,c,d,f){void 0===f&&(f=!1);var g=function(a){return b()[a].bind(c())},h=function(b){return function(){a[b]=g(b);return a[b].apply(null,arguments)}};d=d||Object.keys(b());return d.reduce(function(a,b){a[b]=f?h(b):g(b);return a},
a)}function xb(b,a){return-1!==b.indexOf(a)}function yb(b,a){a=b.indexOf(a);0<=a&&b.splice(a,1);return b}function zb(b,a){return b.push(a),a}function Y(b){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];a=k.apply(void 0,md([{}],a.reverse()));return k(a,sa(b||{},Object.keys(a)))}function Ab(b,a){var c=[],d;for(d in b.path){if(b.path[d]!==a.path[d])break;c.push(b.path[d])}return c}function sa(b,a){var c={},d;for(d in b)-1!==a.indexOf(d)&&(c[d]=b[d]);return c}function ta(b,a){return Object.keys(b).filter(Z(Q(a))).reduce(function(a,
d){return a[d]=b[d],a},{})}function yc(b,a){return O(b,v(a))}function za(b,a){var c=t(b),d=c?[]:{},f=c?function(a){return d.push(a)}:function(a,b){return d[b]=a};aa(b,function(b,c){a(b,c)&&f(b,c)});return d}function U(b,a){var c;aa(b,function(b,f){c||a(b,f)&&(c=b)});return c}function O(b,a,c){c=c||(t(b)?[]:{});aa(b,function(b,f){return c[f]=a(b,f)});return c}function Aa(b,a){b.push(a);return b}function fa(b,a){void 0===a&&(a="assert failure");return function(c){var d=b(c);if(!d)throw Error(r(a)?a(c):
a);return d}}function ha(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];if(0===b.length)return[];a=b.reduce(function(a,b){return Math.min(b.length,a)},9007199254740991);for(var c=[],d=function(a){switch(b.length){case 1:c.push([b[0][a]]);break;case 2:c.push([b[0][a],b[1][a]]);break;case 3:c.push([b[0][a],b[1][a],b[2][a]]);break;case 4:c.push([b[0][a],b[1][a],b[2][a],b[3][a]]);break;default:c.push(b.map(function(b){return b[a]}))}},f=0;f<a;f++)d(f);return c}function ua(b,a){if(t(a)){var c=
a[0];var d=a[1]}if(!q(c))throw Error("invalid parameters to applyPairs");b[c]=d;return b}function H(b){return b.length&&b[b.length-1]||void 0}function Ra(b,a){a&&Object.keys(a).forEach(function(b){return delete a[b]});a||(a={});return k(a,b)}function nd(b,a,c){if(t(b))return b.forEach(a,c);Object.keys(b).forEach(function(c){return a(b[c],c)})}function Bb(b){for(var a=1;a<arguments.length;a++){var c=arguments[a];if(c)for(var d=Object.keys(c),f=0;f<d.length;f++)b[d[f]]=c[d[f]]}return b}function Cb(b,
a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b;if(c!==typeof a||"object"!==c)return!1;var d=[b,a];if(va(t)(d))return od(b,a);if(va(Sa)(d))return b.getTime()===a.getTime();if(va(Ta)(d))return b.toString()===a.toString();if(va(r)(d))return!0;if([r,t,Sa,Ta].map(Db).reduce(function(a,b){return a||!!b(d)},!1))return!1;c={};for(var f in b){if(!Cb(b[f],a[f]))return!1;c[f]=!0}for(f in a)if(!c[f])return!1;return!0}function od(b,a){return b.length!==a.length?!1:
ha(b,a).reduce(function(a,b){return a&&Cb(b[0],b[1])},!0)}function na(b,a){return a.length<=b?a:a.substr(0,b-3)+"..."}function Eb(b,a){for(;a.length<b;)a+=" ";return a}function Ua(b){return b.replace(/^([A-Z])/,function(a){return a.toLowerCase()}).replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function Va(b){var a=Wa(b),c=a.match(/^(function [^ ]+\([^)]*\))/);a=c?c[1]:a;return(b=b.name||"")&&a.match(/function \(/)?"function "+b+a.substr(9):a}function Wa(b){return(b=t(b)?b.slice(-1)[0]:
b)&&b.toString()||"undefined"}function E(b){function a(a){if(I(a)){if(-1!==c.indexOf(a))return"[circular ref]";c.push(a)}return pd(a)}var c=[];return X(b)?a(b):JSON.stringify(b,function(b,c){return a(c)}).replace(/\\"/g,'"')}function Fb(b){var a=new RegExp("("+b+")","g");return function(b){return b.split(a).filter(G)}}function Gb(b,a){return q(H(b))&&q(a)?b.slice(0,-1).concat(H(b)+a):Aa(b,a)}function zc(b){return b?"[ui-view#"+b.id+" "+b.$type+":"+b.fqn+" ("+b.name+"@"+(b.creationContext?b.creationContext.name||
"(root)":"(none)")+")]":"ui-view (defunct)"}function Ac(b){return Hb(b)?e.Category[b]:e.Category[e.Category[b]]}function qd(b,a){function c(a){return t(a)?a:l(a)?[a]:[]}function d(b,d){return function(f){if(t(f)&&0===f.length)return f;f=c(f);f=O(f,b);if(!0===d)f=0===za(f,function(a){return!a}).length;else a:switch(f.length){case 0:f=void 0;break a;case 1:f="auto"===a?f[0]:f}return f}}function f(a){return function(b,d){b=c(b);d=c(d);if(b.length!==d.length)return!1;for(var f=0;f<b.length;f++)if(!a(b[f],
d[f]))return!1;return!0}}var g=this;["encode","decode","equals","$normalize"].forEach(function(a){var c=b[a].bind(b);g[a]=("equals"===a?f:d)(c)});k(this,{dynamic:b.dynamic,name:b.name,pattern:b.pattern,inherit:b.inherit,raw:b.raw,is:d(b.is.bind(b),!0),$arrayMode:a})}function rd(b){function a(){return b.value}b=0===["value","type","squash","array","dynamic"].filter(sd.bind(b||{})).length?{value:b}:b;a.__cacheable=!0;var c=ra(b.value)?b.value:a;return k(b,{$$fn:c})}function td(b,a,c,d){a=[{from:"",
to:c||a?void 0:""},{from:null,to:c||a?void 0:""}];b=t(b.replace)?b.replace:[];q(d)&&b.push({from:d,to:void 0});var f=O(b,v("from"));return za(a,function(a){return-1===f.indexOf(a.from)}).concat(b)}function ud(b){return b.name}function vd(b){b.self.$$state=function(){return b};return b.self}function wd(b){b.parent&&b.parent.data&&(b.data=b.self.data=oa(b.parent.data,b.data));return b.data}function xd(b){return b.parent?b.parent.path.concat(b):[b]}function yd(b){var a=b.parent?k({},b.parent.includes):
{};a[b.name]=!0;return a}function Ib(b){var a=function(a,b){return Object.keys(a||{}).map(function(c){return{token:c,val:a[c],deps:void 0,policy:b[c]}})},c=da([[v("resolveFn"),function(a){return new y(a.provide||a.token,a.resolveFn,a.deps,a.policy)}],[v("useFactory"),function(a){return new y(a.provide||a.token,a.useFactory,a.deps||a.dependencies,a.policy)}],[v("useClass"),function(a){return new y(a.provide||a.token,function(){return new a.useClass},[],a.policy)}],[v("useValue"),function(a){return new y(a.provide||
a.token,function(){return a.useValue},[],a.policy,a.useValue)}],[v("useExisting"),function(a){return new y(a.provide||a.token,G,[a.useExisting],a.policy)}]]),d=da([[ma(v("val"),q),function(a){return new y(a.token,G,[a.val],a.policy)}],[ma(v("val"),t),function(a){return new y(a.token,H(a.val),a.val.slice(0,-1),a.policy)}],[ma(v("val"),r),function(a){var b=a.token,c=a.val;var d=a.val;var f=m.$injector;d=d.$inject||f&&f.annotate(d,f.strictDi)||"deferred";return new y(b,c,d,a.policy)}]]);c=da([[L(y),
function(a){return a}],[function(a){return!(!a.token||!a.resolveFn)},c],[function(a){return!(!a.provide&&!a.token||!(a.useValue||a.useFactory||a.useExisting||a.useClass))},c],[function(a){return!!(a&&a.val&&(q(a.val)||t(a.val)||r(a.val)))},d],[D(!0),function(a){throw Error("Invalid resolve value: "+E(a));}]]);d=b.resolve;return(t(d)?d:a(d,b.resolvePolicy||{})).map(c)}function Ba(b,a,c){function d(a){for(var b=f,c=0;c<b.length;c++){var d=new Ca(b[c]);if(d&&d.matches(a.name)||!d&&b[c]===a.name)return!0}return!1}
var f=q(a)?[a]:a;return!!(r(f)?f:d)(b,c)}function Xa(b,a,c){function d(b,d,e){void 0===e&&(e={});b=new Jb(a,c,d,b,g,e);f.push(b);return b.deregister.bind(b)}var f=(b._registeredHooks=b._registeredHooks||{})[c.name]=[],g=M(f);return b[c.name]=d}function zd(b){void 0===b&&(b=!1);return function(a,c){var d=(a.node.state.path.length-c.node.state.path.length)*(b?-1:1);return 0!==d?d:c.hook.priority-a.hook.priority}}function Bc(b,a){var c=b.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$\x26");if(!a)return c;switch(a.squash){case !1:b=
["(",")"+(a.isOptional?"?":"")];break;case !0:c=c.replace(/\/$/,"");b=["(?:/(",")|/)?"];break;default:b=["("+a.squash+"|",")?"]}return c+b[0]+a.type.pattern.source+b[1]}function Cc(b){if(!(r(b)||q(b)||L(V)(b)||V.isDef(b)))throw Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return r(b)?b:D(b)}function Ad(b){b.addResolvable(y.fromData(Ya,b.router),"");b.addResolvable(y.fromData(Da,b),"");b.addResolvable(y.fromData("$transition$",b),"");b.addResolvable(y.fromData("$stateParams",
b.params()),"");b.entering().forEach(function(a){b.addResolvable(y.fromData("$state$",a),a)})}function Kb(b){return function(a,c){return(0,c.$$state()[b])(a,c)}}function Dc(b,a){function c(a){a&&Array.isArray(a.states)&&a.states.forEach(function(a){return b.router.stateRegistry.register(a)});return a}var d=a.$$state().lazyLoad,f=d._promise;f||(f=d._promise=m.$q.when(d(b,a)).then(c).then(function(b){delete a.lazyLoad;delete a.$$state().lazyLoad;delete d._promise;return b},function(a){delete d._promise;
return m.$q.reject(a)}));return f}function Bd(b){var a=b._ignoredReason();if(a)return A.traceTransitionIgnored(b),b=b.router.globals.transition,"SameAsCurrent"===a&&b&&b.abort(),B.ignored().toPromise()}function Cd(b){if(!b.valid())throw Error(b.error().toString());}function Ea(b){var a=function(a){return a||""},c=Za(b).map(a),d=c[1];a=$a(c[0]).map(a);return{path:a[0],search:a[1],hash:d,url:b}}function Fa(b,a,c,d){return function(f){var g=f.locationService=new c(f),h=f.locationConfig=new d(f,a);return{name:b,
service:g,configuration:h,dispose:function(a){a.dispose(g);a.dispose(h)}}}}function Ec(b){m.$injector=wa;m.$q=Ga;return{name:"vanilla.services",$q:Ga,$injector:wa,dispose:function(){return null}}}function Fc(){var b=null;return function(a,c){b=b||m.$injector.get("$templateFactory");return[new Lb(a,c,b)]}}function Gc(b){if(!b.parent)return{};var a=["component","bindings","componentProvider"],c=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider",
"controllerAs","resolveAs"]),d=a.concat(c);if(l(b.views)&&Mb(d,b))throw Error("State '"+b.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object): "+(" "+d.filter(function(a){return l(b[a])}).join(", ")));var f={};d=b.views||{$default:sa(b,d)};aa(d,function(d,h){h=h||"$default";q(d)&&(d={component:d});d=k({},d);if(Mb(a,d)&&Mb(c,d))throw Error("Cannot combine: "+a.join("|")+" with: "+c.join("|")+" in stateview: '"+
h+"@"+b.name+"'");d.resolveAs=d.resolveAs||"$resolve";d.$type="ng1";d.$context=b;d.$name=h;var g=ab.normalizeUIViewTarget(d.$context,d.$name);d.$uiViewName=g.uiViewName;d.$uiViewContextAnchor=g.uiViewContextAnchor;f[h]=d});return f}function Dd(b){var a=m.$injector.get(b+"Directive");if(!a||!a.length)throw Error("Unable to find component named '"+b+"'");return a.map(Ed).reduce(z,[])}function Hc(b){function a(a,b,g,h,e,x,w){c._runtimeServices(e,a,h,b,g);delete C.router;delete C.$get;return C}C=this.router=
new Ya;C.stateProvider=new Ic(C.stateRegistry,C.stateService);C.stateRegistry.decorator("views",Gc);C.stateRegistry.decorator("onExit",Nb("onExit"));C.stateRegistry.decorator("onRetain",Nb("onRetain"));C.stateRegistry.decorator("onEnter",Nb("onEnter"));C.viewService._pluginapi._viewConfigFactory("ng1",Fc());var c=C.locationService=C.locationConfig=new Jc(b);Jc.monkeyPatchPathParameterType(C);C.router=C;C.$get=a;a.$inject="$location $browser $window $sniffer $rootScope $http $templateCache".split(" ");
return C}function Kc(b,a,c){m.$injector=b;m.$q=a;if(!b.hasOwnProperty("strictDi"))try{b.invoke(function(a){})}catch(d){b.strictDi=!!/strict mode/.exec(d&&d.toString())}c.stateRegistry.get().map(function(a){return a.$$state().resolvables}).reduce(z,[]).filter(function(a){return"deferred"===a.deps}).forEach(function(a){return a.deps=b.annotate(a.resolveFn,b.strictDi)})}function Ob(b){b.$watch(function(){A.approximateDigests++})}function Lc(b){var a;(a=b.match(/^\s*({[^}]*})\s*$/))&&(b="("+a[1]+")");
a=b.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/);if(!a||4!==a.length)throw Error("Invalid state ref '"+b+"'");return{state:a[1]||null,paramExpr:a[3]||null}}function Mc(b){b=b.parent().inheritedData("$uiView");return(b=N("$cfg.path")(b))?H(b).state.name:void 0}function Nc(b,a,c){var d=c.uiState||b.current.name;a={relative:Mc(a)||b.$current,inherit:!0,source:"sref"};a=k(a,c.uiStateOpts||{});b=b.href(d,c.uiStateParams,a);return{uiState:d,uiStateParams:c.uiStateParams,uiStateOpts:a,href:b}}
function Oc(b){var a="[object SVGAnimatedString]"===Object.prototype.toString.call(b.prop("href")),c="FORM"===b[0].nodeName;return{attr:c?"action":a?"xlink:href":"href",isAnchor:"A"===b.prop("tagName").toUpperCase(),clickable:!c}}function Pc(b,a,c,d,f){return function(g){var h=g.which||g.button,e=f();if(!(1<h||g.ctrlKey||g.metaKey||g.shiftKey||b.attr("target"))){var x=c(function(){b.attr("disabled")||a.go(e.uiState,e.uiStateParams,e.uiStateOpts)});g.preventDefault();var w=d.isAnchor&&!e.href?1:0;
g.preventDefault=function(){0>=w--&&c.cancel(x)}}}}function Qc(b,a,c,d){if(d)var f=d.events;t(f)||(f=["click"]);d=b.on?"on":"bind";for(var g=0,h=f;g<h.length;g++)b[d](h[g],c);a.$on("$destroy",function(){for(var a=b.off?"off":"unbind",d=0,g=f;d<g.length;d++)b[a](g[d],c)})}function Rc(b){var a=function(a,d,f){return b.is(a,d,f)};a.$stateful=!0;return a}function Sc(b){var a=function(a,d,f){return b.includes(a,d,f)};a.$stateful=!0;return a}function Tc(b,a,c,d,f,g){var h=N("viewDecl.controllerAs"),e=N("viewDecl.resolveAs");
return{restrict:"ECA",priority:-400,compile:function(d){var g=d.html();d.empty();return function(d,p){var x=p.data("$uiView");if(x){var n=x.$cfg||{viewDecl:{},getTemplate:K},u=n.path&&new R(n.path);p.html(n.getTemplate(p,u)||g);A.traceUIViewFill(x.$uiView,p.html());x=b(p.contents());var w=n.controller,l=h(n),m=e(n);u=u&&Pb(u);d[m]=u;w&&(w=a(w,k({},u,{$scope:d,$element:p})),l&&(d[l]=w,d[l][m]=u),p.data("$ngControllerController",w),p.children().data("$ngControllerController",w),Vc(f,c,w,d,n));if(q(n.component)){l=
Ua(n.component);var t=new RegExp("^(x-|data-)?"+l+"$","i"),r=d.$watch(function(){var a=[].slice.call(p[0].children).filter(function(a){return a&&a.tagName&&t.exec(a.tagName)});return a&&F.element(a).data("$"+n.component+"Controller")},function(a){a&&(Vc(f,c,a,d,n),r())})}x(d)}else p.html(g),b(p.contents())(d)}}}}function Vc(b,a,c,d,f){!r(c.$onInit)||(f.viewDecl.component||f.viewDecl.componentProvider)&&Fd||c.$onInit();var g=H(f.path).state.self,h={bind:c};if(r(c.uiOnParamsChanged)){var e=(new R(f.path)).getResolvable("$transition$").data;
d.$on("$destroy",a.onSuccess({},function(a){if(a!==e&&-1===a.exiting().indexOf(g)){var b=a.params("to"),d=a.params("from"),f=function(a){return a.paramSchema},h=a.treeChanges("to").map(f).reduce(z,[]),p=a.treeChanges("from").map(f).reduce(z,[]);f=h.filter(function(a){var c=p.indexOf(a);return-1===c||!p[c].type.equals(b[a.id],d[a.id])});if(f.length){var x=f.map(function(a){return a.id});f=za(b,function(a,b){return-1!==x.indexOf(b)});c.uiOnParamsChanged(f,a)}}},h))}if(r(c.uiCanExit)){var x=Gd++,w=function(a){return!!a&&
(a._uiCanExitIds&&!0===a._uiCanExitIds[x]||w(a.redirectedFrom()))};d.$on("$destroy",a.onBefore({exiting:g.name},function(a){var d=a._uiCanExitIds=a._uiCanExitIds||{};if(!w(a)){var f=b.when(c.uiCanExit(a));f.then(function(a){return d[x]=!1!==a})}return f},h))}}var Hd=angular,F=ka&&ka.module?ka:Hd,ld=function(){for(var b=0,a=0,c=arguments.length;a<c;a++)b+=arguments[a].length;b=Array(b);var d=0;for(a=0;a<c;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,d++)b[d]=f[g];return b},v=function(b){return function(a){return a&&
a[b]}},ba=la(function(b,a,c){return c&&c[b]===a}),N=function(b){return ma.apply(null,b.split(".").map(v))},Z=function(b){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return!b.apply(null,a)}},va=function(b){return function(a){return a.reduce(function(a,d){return a&&!!b(d)},!0)}},Db=function(b){return function(a){return a.reduce(function(a,d){return a||!!b(d)},!1)}},L=function(b){return function(a){return null!=a&&a.constructor===b||a instanceof b}},Wc=function(b){return function(a){return b===
a}},D=function(b){return function(){return b}},Xc=Object.prototype.toString,bb=function(b){return function(a){return typeof a===b}},X=bb("undefined"),l=Z(X),cb=function(b){return null===b},db=wb(cb,X),r=bb("function"),Hb=bb("number"),q=bb("string"),I=function(b){return null!==b&&"object"===typeof b},t=Array.isArray,Sa=function(b){return"[object Date]"===Xc.call(b)},Ta=function(b){return"[object RegExp]"===Xc.call(b)},pa=vb(I,ma(v("then"),r)),Id=function(b){return function(){throw Error("No implementation for "+
b+". The framework specific code did not implement this method.");}},eb=function(b,a){return a.reduce(function(a,d){return a[d]=Id(b+"."+d+"()"),a},{})},m={$q:void 0,$injector:void 0},md=function(){for(var b=0,a=0,c=arguments.length;a<c;a++)b+=arguments[a].length;b=Array(b);var d=0;for(a=0;a<c;a++)for(var f=arguments[a],g=0,h=f.length;g<h;g++,d++)b[d]=f[g];return b},ca="object"===typeof self&&self.self===self&&self||"object"===typeof global&&global.global===global&&global||void 0,fb=ca.angular||{},
Qb=fb.fromJson||JSON.parse.bind(JSON),Rb=fb.toJson||JSON.stringify.bind(JSON),aa=fb.forEach||nd,k=Object.assign||Bb,Ha=fb.equals||Cb,oa=function(b,a){return k(Object.create(b),a)},Q=la(xb),M=la(yb),Sb=la(zb),Tb=function(b){return b.slice().forEach(function(a){"function"===typeof a&&a();M(b,a)})},Ia=function(b,a){return k(b,a)},gb=O,W=function(b){return Object.keys(b).map(function(a){return b[a]})},hb=function(b,a){return b&&a},ib=function(b,a){return b||a},z=function(b,a){return b.concat(a)},Ja=function(b,
a){return t(a)?b.concat(a.reduce(Ja,[])):Aa(b,a)},qa=function(b,a){return Q(b,a)?b:Aa(b,a)},jb=function(b){return b.reduce(z,[])},Yc=function(b){return b.reduce(Ja,[])},Zc=function(b){return Object.keys(b).map(function(a){return[a,b[a]]})},kb=function(b){return b.catch(function(a){return 0})&&b},Ka=function(b){return kb(m.$q.reject(b))},Ca=function(){function b(a){this.text=a;this.glob=a.split(".");a=this.text.split(".").map(function(a){return"**"===a?"(?:|(?:\\.[^.]*)*)":"*"===a?"\\.[^.]*":"\\."+
a}).join("");this.regexp=new RegExp("^"+a+"$")}b.is=function(a){return!!/[!,*]+/.exec(a)};b.fromString=function(a){return b.is(a)?new b(a):null};b.prototype.matches=function(a){return this.regexp.test("."+a)};return b}(),La=function(){function b(a,b){void 0===a&&(a=[]);void 0===b&&(b=null);this._items=a;this._limit=b;this._evictListeners=[];this.onEvict=Sb(this._evictListeners)}b.prototype.enqueue=function(a){var b=this._items;b.push(a);this._limit&&b.length>this._limit&&this.evict();return a};b.prototype.evict=
function(){var a=this._items.shift();this._evictListeners.forEach(function(b){return b(a)});return a};b.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]};b.prototype.clear=function(){var a=this._items;this._items=[];return a};b.prototype.size=function(){return this._items.length};b.prototype.remove=function(a){a=this._items.indexOf(a);return-1<a&&this._items.splice(a,1)[0]};b.prototype.peekTail=function(){return this._items[this._items.length-1]};b.prototype.peekHead=
function(){if(this.size())return this._items[0]};return b}();(function(b){b[b.SUPERSEDED=2]="SUPERSEDED";b[b.ABORTED=3]="ABORTED";b[b.INVALID=4]="INVALID";b[b.IGNORED=5]="IGNORED";b[b.ERROR=6]="ERROR"})(e.RejectType||(e.RejectType={}));var Jd=0,B=function(){function b(a,b,d){this.$id=Jd++;this.type=a;this.message=b;this.detail=d}b.isRejectionPromise=function(a){return a&&"function"===typeof a.then&&L(b)(a._transitionRejection)};b.superseded=function(a,c){a=new b(e.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",
a);c&&c.redirected&&(a.redirected=!0);return a};b.redirected=function(a){return b.superseded(a,{redirected:!0})};b.invalid=function(a){return new b(e.RejectType.INVALID,"This transition is invalid",a)};b.ignored=function(a){return new b(e.RejectType.IGNORED,"The transition was ignored",a)};b.aborted=function(a){return new b(e.RejectType.ABORTED,"The transition has been aborted",a)};b.errored=function(a){return new b(e.RejectType.ERROR,"The transition errored",a)};b.normalize=function(a){return L(b)(a)?
a:b.errored(a)};b.prototype.toString=function(){var a=(a=this.detail)&&a.toString!==Object.prototype.toString?a.toString():E(a);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+a+")"};b.prototype.toPromise=function(){return k(Ka(this),{_transitionRejection:this})};return b}(),Kd=B.isRejectionPromise,pd=da([[X,D("undefined")],[cb,D("null")],[pa,D("[Promise]")],[Kd,function(b){return b._transitionRejection.toString()}],[function(b){return I(b)&&
!t(b)&&b.constructor!==Object&&r(b.toString)},function(b){return b.toString()}],[ra,Va],[D(!0),G]]),Ma=function(b){return function(a){if(!a)return["",""];var c=a.indexOf(b);return-1===c?[a,""]:[a.substr(0,c),a.substr(c+1)]}},$c=/^(?:[a-z]+:)?\/\/[^/]+\//,lb=function(b){return b.replace(/\/[^/]*$/,"")},Za=Ma("#"),$a=Ma("?"),Ub=Ma("\x3d"),Vb=function(b){return b?b.replace(/^#/,""):""},Ld={log:K,error:K,table:K},S=function(){if("undefined"!==typeof document&&document.documentMode&&9===document.documentMode){if(window&&
window.console){var b=window.console;b={log:Function.prototype.bind.call(b.log,b),error:Function.prototype.bind.call(b.log,b),table:Function.prototype.bind.call(b.log,b)}}else b=Ld;return b}if(console.table&&console.error)return console;var a=console;b=a.log.bind(a);var c=a.error?a.error.bind(a):b;a=a.table?a.table.bind(a):b;return{log:b,error:c,table:a}}(),Md=function(b){var a=b.viewDecl;return"[View#"+b.$id+" from '"+(a.$context.name||"(root)")+"' state]: target ui-view: '"+a.$uiViewName+"@"+a.$uiViewContextAnchor+
"'"};(function(b){b[b.RESOLVE=0]="RESOLVE";b[b.TRANSITION=1]="TRANSITION";b[b.HOOK=2]="HOOK";b[b.UIVIEW=3]="UIVIEW";b[b.VIEWCONFIG=4]="VIEWCONFIG"})(e.Category||(e.Category={}));var Nd=N("$id"),Od=N("router.$id"),ia=function(b){return"Transition #"+Nd(b)+"-"+Od(b)},Wb=function(){function b(){this._enabled={};this.approximateDigests=0}b.prototype._set=function(a,b){var c=this;b.length||(b=Object.keys(e.Category).map(function(a){return parseInt(a,10)}).filter(function(a){return!isNaN(a)}).map(function(a){return e.Category[a]}));
b.map(Ac).forEach(function(b){return c._enabled[b]=a})};b.prototype.enable=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._set(!0,a)};b.prototype.disable=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._set(!1,a)};b.prototype.enabled=function(a){return!!this._enabled[Ac(a)]};b.prototype.traceTransitionStart=function(a){this.enabled(e.Category.TRANSITION)&&S.log(ia(a)+": Started  -\x3e "+E(a))};b.prototype.traceTransitionIgnored=function(a){this.enabled(e.Category.TRANSITION)&&
S.log(ia(a)+": Ignored  \x3c\x3e "+E(a))};b.prototype.traceHookInvocation=function(a,b,d){if(this.enabled(e.Category.HOOK)){var c=N("traceData.hookType")(d)||"internal";d=N("traceData.context.state.name")(d)||N("traceData.context")(d)||"unknown";a=Va(a.registeredHook.callback);S.log(ia(b)+":   Hook -\x3e "+c+" context: "+d+", "+na(200,a))}};b.prototype.traceHookResult=function(a,b,d){this.enabled(e.Category.HOOK)&&S.log(ia(b)+":   \x3c- Hook returned: "+na(200,E(a)))};b.prototype.traceResolvePath=
function(a,b,d){this.enabled(e.Category.RESOLVE)&&S.log(ia(d)+":         Resolving "+a+" ("+b+")")};b.prototype.traceResolvableResolved=function(a,b){this.enabled(e.Category.RESOLVE)&&S.log(ia(b)+":               \x3c- Resolved  "+a+" to: "+na(200,E(a.data)))};b.prototype.traceError=function(a,b){this.enabled(e.Category.TRANSITION)&&S.log(ia(b)+": \x3c- Rejected "+E(b)+", reason: "+a)};b.prototype.traceSuccess=function(a,b){this.enabled(e.Category.TRANSITION)&&S.log(ia(b)+": \x3c- Success  "+E(b)+
", final state: "+a.name)};b.prototype.traceUIViewEvent=function(a,b,d){void 0===d&&(d="");this.enabled(e.Category.UIVIEW)&&S.log("ui-view: "+Eb(30,a)+" "+zc(b)+d)};b.prototype.traceUIViewConfigUpdated=function(a,b){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Updating",a," with ViewConfig from context\x3d'"+b+"'")};b.prototype.traceUIViewFill=function(a,b){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Fill",a," with: "+na(200,b))};b.prototype.traceViewSync=function(a){this.enabled(e.Category.VIEWCONFIG)&&
(a=a.map(function(a){var b,c=a.uiView;a=a.viewConfig;c=c&&c.fqn;a=a&&a.viewDecl.$context.name+": ("+a.viewDecl.$name+")";return b={},b["uiview component fqn"]=c,b["view config state (view name)"]=a,b}).sort(function(a,b){return(a["uiview component fqn"]||"").localeCompare(b["uiview component fqn"]||"")}),S.table(a))};b.prototype.traceViewServiceEvent=function(a,b){this.enabled(e.Category.VIEWCONFIG)&&S.log("VIEWCONFIG: "+a+" "+Md(b))};b.prototype.traceViewServiceUIViewEvent=function(a,b){this.enabled(e.Category.VIEWCONFIG)&&
S.log("VIEWCONFIG: "+a+" "+zc(b))};return b}(),A=new Wb,Na=function(){function b(a){this.pattern=/.*/;this.inherit=!0;k(this,a)}b.prototype.is=function(a,b){return!0};b.prototype.encode=function(a,b){return a};b.prototype.decode=function(a,b){return a};b.prototype.equals=function(a,b){return a==b};b.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)};b.prototype.toString=function(){return"{ParamType:"+this.name+"}"};b.prototype.$normalize=function(a){return this.is(a)?
a:this.decode(a)};b.prototype.$asArray=function(a,b){if(!a)return this;if("auto"===a&&!b)throw Error("'auto' array mode is for query parameters only");return new qd(this,a)};return b}(),sd=Object.prototype.hasOwnProperty;(function(b){b[b.PATH=0]="PATH";b[b.SEARCH=1]="SEARCH";b[b.CONFIG=2]="CONFIG"})(e.DefType||(e.DefType={}));var P=function(){function b(a,b,d,f,g){var c=U([g.dynamic,!1===g.reloadOnSearch&&d===e.DefType.SEARCH||void 0],l);c=l(c)?{dynamic:c}:{};g=rd(g&&g.params&&g.params[a]);g=k(c,
g);c=f.paramTypes;if(g.type&&b&&"string"!==b.name)throw Error("Param '"+a+"' has two type configurations.");b=g.type&&b&&"string"===b.name&&c.type(g.type)?c.type(g.type):b?b:g.type?g.type instanceof Na?g.type:c.type(g.type):c.type(d===e.DefType.CONFIG?"any":d===e.DefType.PATH?"path":d===e.DefType.SEARCH?"query":"string");c={array:d===e.DefType.SEARCH?"auto":!1};var p=a.match(/\[\]$/)?{array:!0}:{};b=(c=k(c,p,g).array)?b.$asArray(c,d===e.DefType.SEARCH):b;p=void 0!==g.value||d===e.DefType.SEARCH;var x=
l(g.dynamic)?!!g.dynamic:!!b.dynamic,w=l(g.raw)?!!g.raw:!!b.raw;f=f.defaultSquashPolicy();var n=g.squash;if(p&&!1!==n){if(l(n)&&null!=n)if(!0===n||q(n))f=n;else throw Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string");}else f=!1;n=td(g,c,p,f);var u=l(g.inherit)?!!g.inherit:!!b.inherit;k(this,{id:a,type:b,location:d,isOptional:p,dynamic:x,raw:w,squash:f,replace:n,inherit:u,array:c,config:g})}b.values=function(a,b){void 0===b&&(b={});for(var c={},f=0;f<a.length;f++){var g=
a[f];c[g.id]=g.value(b[g.id])}return c};b.changed=function(a,b,d){void 0===b&&(b={});void 0===d&&(d={});return a.filter(function(a){return!a.type.equals(b[a.id],d[a.id])})};b.equals=function(a,c,d){void 0===c&&(c={});void 0===d&&(d={});return 0===b.changed(a,c,d).length};b.validates=function(a,b){void 0===b&&(b={});return a.map(function(a){return a.validates(b[a.id])}).reduce(hb,!0)};b.prototype.isDefaultValue=function(a){return this.isOptional&&this.type.equals(this.value(),a)};b.prototype.value=
function(a){var b=this,d=function(){if(b._defaultValueCache)return b._defaultValueCache.defaultValue;if(!m.$injector)throw Error("Injectable functions cannot be called at configuration time");var a=m.$injector.invoke(b.config.$$fn);if(null!==a&&void 0!==a&&!b.type.is(a))throw Error("Default value ("+a+") for parameter '"+b.id+"' is not an instance of ParamType ("+b.type.name+")");b.config.$$fn.__cacheable&&(b._defaultValueCache={defaultValue:a});return a};a=function(a){for(var c=0,d=b.replace;c<d.length;c++){var f=
d[c];if(f.from===a)return f.to}return a}(a);return X(a)?d():this.type.$normalize(a)};b.prototype.isSearch=function(){return this.location===e.DefType.SEARCH};b.prototype.validates=function(a){if((X(a)||null===a)&&this.isOptional)return!0;a=this.type.$normalize(a);if(!this.type.is(a))return!1;a=this.type.encode(a);return!(q(a)&&!this.type.pattern.exec(a))};b.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"};return b}(),
mb=function(){function b(){this.enqueue=!0;this.typeQueue=[];this.defaultTypes=sa(b.prototype,"hash string query path int bool date json any".split(" "));this.types=oa(O(this.defaultTypes,function(a,b){return new Na(k({name:b},a))}),{})}b.prototype.dispose=function(){this.types={}};b.prototype.type=function(a,b,d){if(!l(b))return this.types[a];if(this.types.hasOwnProperty(a))throw Error("A type named '"+a+"' has already been defined.");this.types[a]=new Na(k({name:a},b));d&&(this.typeQueue.push({name:a,
def:d}),this.enqueue||this._flushTypeQueue());return this};b.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var a=this.typeQueue.shift();if(a.pattern)throw Error("You cannot override a type's .pattern at runtime.");k(this.types[a.name],m.$injector.invoke(a.def))}};return b}();(function(){var b=function(a){var b=function(a){return null!=a?a.toString():a};b={encode:b,decode:b,is:L(String),pattern:/.*/,equals:function(a,b){return a==b}};return k({},b,a)};k(mb.prototype,{string:b({}),
path:b({pattern:/[^/]*/}),query:b({}),hash:b({inherit:!1}),int:b({decode:function(a){return parseInt(a,10)},is:function(a){return!db(a)&&this.decode(a.toString())===a},pattern:/-?\d+/}),bool:b({encode:function(a){return a&&1||0},decode:function(a){return 0!==parseInt(a,10)},is:L(Boolean),pattern:/0|1/}),date:b({encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):void 0},decode:function(a){return this.is(a)?a:(a=this.capture.exec(a))?
new Date(a[1],a[2]-1,a[3]):void 0},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return["getFullYear","getMonth","getDate"].reduce(function(c,f){return c&&a[f]()===b[f]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:b({encode:Rb,decode:Qb,is:L(Object),equals:Ha,pattern:/[^/]*/}),any:b({encode:G,decode:G,is:function(){return!0},equals:Ha})})})();var Xb=function(){function b(a){void 0===
a&&(a={});k(this,a)}b.prototype.$inherit=function(a,b,d){d=Ab(b,d);var c={},g=[],h;for(h in d)if(d[h]&&d[h].params&&(b=Object.keys(d[h].params),b.length))for(var e in b)0<=g.indexOf(b[e])||(g.push(b[e]),c[b[e]]=this[b[e]]);return k({},c,a)};return b}(),Oa=function(){function b(a){a instanceof b?(this.state=a.state,this.paramSchema=a.paramSchema.slice(),this.paramValues=k({},a.paramValues),this.resolvables=a.resolvables.slice(),this.views=a.views&&a.views.slice()):(this.state=a,this.paramSchema=a.parameters({inherit:!1}),
this.paramValues={},this.resolvables=a.resolvables.map(function(a){return a.clone()}))}b.prototype.clone=function(){return new b(this)};b.prototype.applyRawParams=function(a){this.paramValues=this.paramSchema.reduce(function(b,d){return ua(b,[d.id,d.value(a[d.id])])},{});return this};b.prototype.parameter=function(a){return U(this.paramSchema,ba("id",a))};b.prototype.equals=function(a,b){return(a=this.diff(a,b))&&0===a.length};b.prototype.diff=function(a,b){if(this.state!==a.state)return!1;b=b?b(this):
this.paramSchema;return P.changed(b,this.paramValues,a.paramValues)};b.clone=function(a){return a.clone()};return b}(),V=function(){function b(a,b,d,f){this._stateRegistry=a;this._identifier=this._identifier=b;this._params=k({},d||{});this._options=k({},f||{});this._definition=a.matcher.find(b,this._options.relative)}b.prototype.name=function(){return this._definition&&this._definition.name||this._identifier};b.prototype.identifier=function(){return this._identifier};b.prototype.params=function(){return this._params};
b.prototype.$state=function(){return this._definition};b.prototype.state=function(){return this._definition&&this._definition.self};b.prototype.options=function(){return this._options};b.prototype.exists=function(){return!(!this._definition||!this._definition.self)};b.prototype.valid=function(){return!this.error()};b.prototype.error=function(){var a=this.options().relative;if(!this._definition&&a)return a=a.name?a.name:a,"Could not resolve '"+this.name()+"' from state '"+a+"'";if(!this._definition)return"No such state '"+
this.name()+"'";if(!this._definition.self)return"State '"+this.name()+"' has an invalid definition"};b.prototype.toString=function(){return"'"+this.name()+"'"+E(this.params())};b.prototype.withState=function(a){return new b(this._stateRegistry,a,this._params,this._options)};b.prototype.withParams=function(a,c){void 0===c&&(c=!1);a=c?a:k({},this._params,a);return new b(this._stateRegistry,this._identifier,a,this._options)};b.prototype.withOptions=function(a,c){void 0===c&&(c=!1);a=c?a:k({},this._options,
a);return new b(this._stateRegistry,this._identifier,this._params,a)};b.isDef=function(a){return a&&a.state&&(q(a.state)||q(a.state.name))};return b}(),T=function(){function b(){}b.makeTargetState=function(a,b){var c=H(b).state;return new V(a,c,b.map(v("paramValues")).reduce(Ia,{}),{})};b.buildPath=function(a){var b=a.params();return a.$state().path.map(function(a){return(new Oa(a)).applyRawParams(b)})};b.buildToPath=function(a,c){var d=b.buildPath(c);return c.options().inherit?b.inheritParams(a,
d,Object.keys(c.params())):d};b.applyViewConfigs=function(a,c,d){c.filter(function(a){return Q(d,a.state)}).forEach(function(d){var f=W(d.state.views||{}),h=b.subPath(c,function(a){return a===d});f=f.map(function(b){return a.createViewConfig(h,b)});d.views=f.reduce(z,[])})};b.inheritParams=function(a,b,d){void 0===d&&(d=[]);var c=a.map(function(a){return a.paramSchema}).reduce(z,[]).filter(function(a){return!a.inherit}).map(v("id"));return b.map(function(b){var f=k({},b&&b.paramValues),g=sa(f,d);
f=ta(f,d);var e=U(a,ba("state",b.state));e=k({},e&&e.paramValues);e=ta(e||{},c);f=k(f,e,g);return(new Oa(b.state)).applyRawParams(f)})};b.treeChanges=function(a,c,d){for(var f=Math.min(a.length,c.length),g=0;g<f&&a[g].state!==d&&a[g].equals(c[g],b.nonDynamicParams);)g++;d=a.slice(0,g);f=a.slice(g);var e=d.map(function(a,b){a=a.clone();a.paramValues=c[b].paramValues;return a});g=c.slice(g);var p=e.concat(g);return{from:a,to:p,retained:d,retainedWithToParams:e,exiting:f,entering:g}};b.matching=function(a,
b,d){var c=!1;return ha(a,b).reduce(function(a,b){var f=b[0];b=b[1];return(c=c||!f.equals(b,d))?a:a.concat(f)},[])};b.equals=function(a,c,d){return a.length===c.length&&b.matching(a,c,d).length===a.length};b.subPath=function(a,b){b=U(a,b);b=a.indexOf(b);return-1===b?void 0:a.slice(0,b+1)};b.nonDynamicParams=function(a){return a.state.parameters({inherit:!1}).filter(function(a){return!a.dynamic})};b.paramValues=function(a){return a.reduce(function(a,b){return k(a,b.paramValues)},{})};return b}(),nb=
{when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT"}},ob={when:"LAZY",async:"WAIT"},y=function(){function b(a,c,d,f,g){this.resolved=!1;this.promise=void 0;if(a instanceof b)k(this,a);else if(r(c)){if(db(a))throw Error("new Resolvable(): token argument is required");if(!r(c))throw Error("new Resolvable(): resolveFn argument must be a function");this.token=a;this.policy=f;this.resolveFn=c;this.deps=d||[];this.data=g;this.promise=(this.resolved=void 0!==g)?m.$q.when(this.data):void 0}else if(I(a)&&
a.token&&(a.hasOwnProperty("resolveFn")||a.hasOwnProperty("data")))return new b(a.token,a.resolveFn,a.deps,a.policy,a.data)}b.prototype.getPolicy=function(a){var b=this.policy||{};a=a&&a.resolvePolicy||{};return{when:b.when||a.when||ob.when,async:b.async||a.async||ob.async}};b.prototype.resolve=function(a,b){var c=this,f=m.$q,g=a.findNode(this);g=this.getPolicy(g&&g.state).async;g=r(g)?g:G;return this.promise=f.when().then(function(){return f.all(a.getDependencies(c).map(function(c){return c.get(a,
b)}))}).then(function(a){return c.resolveFn.apply(null,a)}).then(g).then(function(a){c.data=a;c.resolved=!0;c.resolveFn=null;A.traceResolvableResolved(c,b);return c.data})};b.prototype.get=function(a,b){return this.promise||this.resolve(a,b)};b.prototype.toString=function(){return"Resolvable(token: "+E(this.token)+", requires: ["+this.deps.map(E)+"])"};b.prototype.clone=function(){return new b(this)};b.fromData=function(a,c){return new b(a,function(){return c},null,null,c)};return b}(),Yb=nb.when,
ad=[Yb.EAGER,Yb.LAZY],Pd=[Yb.EAGER],R=function(){function b(a){this._path=a}b.prototype.getTokens=function(){return this._path.reduce(function(a,b){return a.concat(b.resolvables.map(function(a){return a.token}))},[]).reduce(qa,[])};b.prototype.getResolvable=function(a){var b=this._path.map(function(a){return a.resolvables}).reduce(z,[]).filter(function(b){return b.token===a});return H(b)};b.prototype.getPolicy=function(a){var b=this.findNode(a);return a.getPolicy(b.state)};b.prototype.subContext=
function(a){return new b(T.subPath(this._path,function(b){return b.state===a}))};b.prototype.addResolvables=function(a,b){b=U(this._path,ba("state",b));var c=a.map(function(a){return a.token});b.resolvables=b.resolvables.filter(function(a){return-1===c.indexOf(a.token)}).concat(a)};b.prototype.resolvePath=function(a,b){var c=this;void 0===a&&(a="LAZY");var f=(Q(ad,a)?a:"LAZY")===nb.when.EAGER?Pd:ad;A.traceResolvePath(this._path,a,b);var g=function(a,b){return function(d){return Q(a,c.getPolicy(d)[b])}};
a=this._path.reduce(function(a,d){var e=d.resolvables.filter(g(f,"when")),h=e.filter(g(["NOWAIT"],"async"));e=e.filter(Z(g(["NOWAIT"],"async")));var p=c.subContext(d.state);d=function(a){return a.get(p,b).then(function(b){return{token:a.token,value:b}})};h.forEach(d);return a.concat(e.map(d))},[]);return m.$q.all(a)};b.prototype.injector=function(){return this._injector||(this._injector=new Qd(this))};b.prototype.findNode=function(a){return U(this._path,function(b){return Q(b.resolvables,a)})};b.prototype.getDependencies=
function(a){var b=this,d=this.findNode(a),f=(T.subPath(this._path,function(a){return a===d})||this._path).reduce(function(a,b){return a.concat(b.resolvables)},[]).filter(function(b){return b!==a});return a.deps.map(function(a){var c=f.filter(function(b){return b.token===a});if(c.length)return H(c);var d=b.injector().getNative(a);if(X(d))throw Error("Could not find Dependency Injection token: "+E(a));return new y(a,function(){return d},[],d)})};return b}(),Qd=function(){function b(a){this.context=
a;this.native=this.get("Native Injector")||m.$injector}b.prototype.get=function(a){var b=this.context.getResolvable(a);if(b){if("NOWAIT"===this.context.getPolicy(b).async)return b.get(this.context);if(!b.resolved)throw Error("Resolvable async .get() not complete:"+E(b.token));return b.data}return this.getNative(a)};b.prototype.getAsync=function(a){var b=this.context.getResolvable(a);return b?b.get(this.context):m.$q.when(this.native.get(a))};b.prototype.getNative=function(a){return this.native&&this.native.get(a)};
return b}(),Rd=function(b,a){return function(c){var d=c.self;if(d&&d.url&&d.name&&d.name.match(/\.\*\*$/)){var f={};Ra(d,f);f.url+="{remainder:any}";d=f}f=c.parent;var g=d.url;if(q(g)){var e="^"===g.charAt(0);g={val:e?g.substring(1):g,root:e}}else g=!1;d=g?b.compile(g.val,{state:d}):d.url;if(!d)return null;if(!b.isMatcher(d))throw Error("Invalid url '"+d+"' in state '"+c+"'");return g&&g.root?d:(f&&f.navigable||a()).url.append(d)}},Sd=function(b){return function(a){return!b(a)&&a.url?a:a.parent?a.parent.navigable:
null}},Td=function(b){return function(a){var c=a.url&&a.url.parameters({inherit:!1})||[],d=W(gb(ta(a.params||{},c.map(v("id"))),function(c,d){return b.fromConfig(d,null,a.self)}));return c.concat(d).map(function(a){return[a.id,a]}).reduce(ua,{})}},Zb=function(){function b(a,b){this.matcher=a;var c=this,f=function(){return a.find("")},g=function(a){return""===a.name};this.builders={name:[ud],self:[vd],parent:[function(b){return g(b)?null:a.find(c.parentName(b))||f()}],data:[wd],url:[Rd(b,f)],navigable:[Sd(g)],
params:[Td(b.paramFactory)],views:[],path:[xd],includes:[yd],resolvables:[Ib]}}b.prototype.builder=function(a,b){var c=this.builders,f=c[a]||[];if(q(a)&&!l(b))return 1<f.length?f:f[0];if(q(a)&&r(b))return c[a]=f,c[a].push(b),function(){return c[a].splice(c[a].indexOf(b,1))&&null}};b.prototype.build=function(a){var b=this.matcher,d=this.builders,f=this.parentName(a);if(f&&!b.find(f,void 0,!1))return null;for(var g in d)d.hasOwnProperty(g)&&(b=d[g].reduce(function(a,b){return function(c){return b(c,
a)}},K),a[g]=b(a));return a};b.prototype.parentName=function(a){var b=a.name||"",d=b.split(".");"**"===d.pop()&&d.pop();if(d.length){if(a.parent)throw Error("States that specify the 'parent:' property should not have a '.' in their name ("+b+")");return d.join(".")}return a.parent?q(a.parent)?a.parent:a.parent.name:""};b.prototype.name=function(a){var b=a.name;return-1===b.indexOf(".")&&a.parent?(a=q(a.parent)?a.parent:a.parent.name)?a+"."+b:b:b};return b}(),pb=function(){function b(a){return b.create(a||
{})}b.create=function(a){a=b.isStateClass(a)?new a:a;var c=oa(oa(a,b.prototype));a.$$state=function(){return c};c.self=a;c.__stateObjectCache={nameGlob:Ca.fromString(c.name)};return c};b.prototype.is=function(a){return this===a||this.self===a||this.fqn()===a};b.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var a=this.parent.fqn();return a?a+"."+this.name:this.name};b.prototype.root=function(){return this.parent&&this.parent.root()||this};b.prototype.parameters=
function(a){a=Y(a,{inherit:!0,matchingKeys:null});return(a.inherit&&this.parent&&this.parent.parameters()||[]).concat(W(this.params)).filter(function(b){return!a.matchingKeys||a.matchingKeys.hasOwnProperty(b.id)})};b.prototype.parameter=function(a,b){void 0===b&&(b={});return this.url&&this.url.parameter(a,b)||U(W(this.params),ba("id",a))||b.inherit&&this.parent&&this.parent.parameter(a)};b.prototype.toString=function(){return this.fqn()};b.isStateClass=function(a){return r(a)&&!0===a.__uiRouterState};
b.isState=function(a){return I(a.__stateObjectCache)};return b}(),$b=function(){function b(a){this._states=a}b.prototype.isRelative=function(a){a=a||"";return 0===a.indexOf(".")||0===a.indexOf("^")};b.prototype.find=function(a,b,d){void 0===d&&(d=!0);if(a||""===a){var c=q(a),g=c?a:a.name;this.isRelative(g)&&(g=this.resolvePath(g,b));if((b=this._states[g])&&(c||!c&&(b===a||b.self===a)))return b;if(c&&d)return a=W(this._states).filter(function(a){return a.__stateObjectCache.nameGlob&&a.__stateObjectCache.nameGlob.matches(g)}),
1<a.length&&S.error("stateMatcher.find: Found multiple matches for "+g+" using glob: ",a.map(function(a){return a.name})),a[0]}};b.prototype.resolvePath=function(a,b){if(!b)throw Error("No reference point given for path '"+a+"'");var c=this.find(b),f=a.split("."),g=f.length,e=0;for(b=c;e<g;e++)if(""===f[e]&&0===e)b=c;else if("^"===f[e]){if(!b.parent)throw Error("Path '"+a+"' not valid for state '"+c.name+"'");b=b.parent}else break;a=f.slice(e).join(".");return b.name+(b.name&&a?".":"")+a};return b}(),
ac=function(){function b(a,b,d,f){this.router=a;this.states=b;this.builder=d;this.listeners=f;this.queue=[]}b.prototype.dispose=function(){this.queue=[]};b.prototype.register=function(a){var b=this.queue;a=pb.create(a);var d=a.name;if(!q(d))throw Error("State must have a valid name");if(this.states.hasOwnProperty(d)||Q(b.map(v("name")),d))throw Error("State '"+d+"' is already defined");b.push(a);this.flush();return a};b.prototype.flush=function(){for(var a=this,b=this.queue,d=this.states,f=this.builder,
g=[],e=[],p={},x=function(b){return a.states.hasOwnProperty(b)&&a.states[b]},w=function(){g.length&&a.listeners.forEach(function(a){return a("registered",g.map(function(a){return a.self}))})};0<b.length;){var n=b.shift(),u=n.name,k=f.build(n),l=e.indexOf(n);if(k){if((k=x(u))&&k.name===u)throw Error("State '"+u+"' is already defined");(k=x(u+".**"))&&this.router.stateRegistry.deregister(k);d[u]=n;this.attachRoute(n);0<=l&&e.splice(l,1);g.push(n)}else{k=p[u];p[u]=b.length;if(0<=l&&k===b.length)return b.push(n),
w(),d;0>l&&e.push(n);b.push(n)}}w();return d};b.prototype.attachRoute=function(a){if(!a.abstract&&a.url){var b=this.router.urlService.rules;b.rule(b.urlRuleFactory.create(a))}};return b}(),bc=function(){function b(a){this.router=a;this.states={};this.listeners=[];this.matcher=new $b(this.states);this.builder=new Zb(this.matcher,a.urlMatcherFactory);this.stateQueue=new ac(a,this.states,this.builder,this.listeners);this._registerRoot()}b.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",
url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null};b.prototype.dispose=function(){var a=this;this.stateQueue.dispose();this.listeners=[];this.get().forEach(function(b){return a.get(b)&&a.deregister(b)})};b.prototype.onStatesChanged=function(a){this.listeners.push(a);return function(){M(this.listeners)(a)}.bind(this)};b.prototype.root=function(){return this._root};b.prototype.register=function(a){return this.stateQueue.register(a)};b.prototype._deregisterTree=
function(a){var b=this,d=this.get().map(function(a){return a.$$state()}),f=function(a){var b=d.filter(function(b){return-1!==a.indexOf(b.parent)});return 0===b.length?b:b.concat(f(b))},g=f([a]);a=[a].concat(g).reverse();a.forEach(function(a){var c=b.router.urlService.rules;c.rules().filter(ba("state",a)).forEach(function(a){return c.removeRule(a)});delete b.states[a.name]});return a};b.prototype.deregister=function(a){var b=this.get(a);if(!b)throw Error("Can't deregister state; not found: "+a);var d=
this._deregisterTree(b.$$state());this.listeners.forEach(function(a){return a("deregistered",d.map(function(a){return a.self}))});return d};b.prototype.get=function(a,b){var c=this;if(0===arguments.length)return Object.keys(this.states).map(function(a){return c.states[a].self});var f=this.matcher.find(a,b);return f&&f.self||null};b.prototype.decorator=function(a,b){return this.builder.builder(a,b)};return b}();(function(b){b[b.CREATE=0]="CREATE";b[b.BEFORE=1]="BEFORE";b[b.RUN=2]="RUN";b[b.SUCCESS=
3]="SUCCESS";b[b.ERROR=4]="ERROR"})(e.TransitionHookPhase||(e.TransitionHookPhase={}));(function(b){b[b.TRANSITION=0]="TRANSITION";b[b.STATE=1]="STATE"})(e.TransitionHookScope||(e.TransitionHookScope={}));var Ud={current:K,transition:null,traceData:{},bind:null},J=function(){function b(a,b,d,f){var c=this;this.transition=a;this.stateContext=b;this.registeredHook=d;this.options=f;this.isSuperseded=function(){return c.type.hookPhase===e.TransitionHookPhase.RUN&&!c.options.transition.isActive()};this.options=
Y(f,Ud);this.type=d.eventType}b.chain=function(a,b){return a.reduce(function(a,b){return a.then(function(){return b.invokeHook()})},b||m.$q.when())};b.invokeHooks=function(a,c){for(var d=0;d<a.length;d++){var f=a[d].invokeHook();if(pa(f))return a=a.slice(d+1),b.chain(a,f).then(c)}return c()};b.runAllHooks=function(a){a.forEach(function(a){return a.invokeHook()})};b.prototype.logError=function(a){this.transition.router.stateService.defaultErrorHandler()(a)};b.prototype.invokeHook=function(){var a=
this,b=this.registeredHook;if(!b._deregistered){var d=this.getNotCurrentRejection();if(d)return d;d=this.options;A.traceHookInvocation(this,this.transition,d);var f=function(a){return B.normalize(a).toPromise()},g=function(c){return b.eventType.getErrorHandler(a)(c)},e=function(c){return b.eventType.getResultHandler(a)(c)};try{var p=b.callback.call(d.bind,a.transition,a.stateContext);return!this.type.synchronous&&pa(p)?p.catch(f).then(e,g):e(p)}catch(x){return g(B.normalize(x))}finally{b.invokeLimit&&
++b.invokeCount>=b.invokeLimit&&b.deregister()}}};b.prototype.handleHookResult=function(a){var b=this,d=this.getNotCurrentRejection();if(d)return d;if(pa(a))return a.then(function(a){return b.handleHookResult(a)});A.traceHookResult(a,this.transition,this.options);if(!1===a)return B.aborted("Hook aborted transition").toPromise();if(L(V)(a))return B.redirected(a).toPromise()};b.prototype.getNotCurrentRejection=function(){var a=this.transition.router;if(a._disposed)return B.aborted("UIRouter instance #"+
a.$id+" has been stopped (disposed)").toPromise();if(this.transition._aborted)return B.aborted().toPromise();if(this.isSuperseded())return B.superseded(this.options.current()).toPromise()};b.prototype.toString=function(){var a=this.options,b=this.registeredHook,d=N("traceData.hookType")(a)||"internal";a=N("traceData.context.state.name")(a)||N("traceData.context")(a)||"unknown";b=Wa(b.callback);return d+" context: "+a+", "+na(200,b)};b.HANDLE_RESULT=function(a){return function(b){return a.handleHookResult(b)}};
b.LOG_REJECTED_RESULT=function(a){return function(b){pa(b)&&b.catch(function(b){return a.logError(B.normalize(b))})}};b.LOG_ERROR=function(a){return function(b){return a.logError(b)}};b.REJECT_ERROR=function(a){return function(a){return Ka(a)}};b.THROW_ERROR=function(a){return function(a){throw a;}};return b}(),Jb=function(){function b(a,b,d,f,g,e){void 0===e&&(e={});this.tranSvc=a;this.eventType=b;this.callback=d;this.matchCriteria=f;this.removeHookFromRegistry=g;this.invokeCount=0;this._deregistered=
!1;this.priority=e.priority||0;this.bind=e.bind||null;this.invokeLimit=e.invokeLimit}b.prototype._matchingNodes=function(a,b,d){if(!0===b)return a;a=a.filter(function(a){return Ba(a.state,b,d)});return a.length?a:null};b.prototype._getDefaultMatchCriteria=function(){return gb(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})};b.prototype._getMatchingNodes=function(a,b){var c=this,f=k(this._getDefaultMatchCriteria(),this.matchCriteria);return W(this.tranSvc._pluginapi._getPathTypes()).reduce(function(d,
h){var g=a[h.name]||[];g=h.scope===e.TransitionHookScope.STATE?g:[H(g)];d[h.name]=c._matchingNodes(g,f[h.name],b);return d},{})};b.prototype.matches=function(a,b){a=this._getMatchingNodes(a,b);return W(a).every(G)?a:null};b.prototype.deregister=function(){this.removeHookFromRegistry(this);this._deregistered=!0};return b}(),cc=function(){function b(a){this.transition=a}b.prototype.buildHooksForPhase=function(a){var b=this;return this.transition.router.transitionService._pluginapi._getEvents(a).map(function(a){return b.buildHooks(a)}).reduce(z,
[]).filter(G)};b.prototype.buildHooks=function(a){var b=this.transition,d=b.treeChanges(),f=this.getMatchingHooks(a,d,b);if(!f)return[];var g={transition:b,current:b.options().current};return f.map(function(c){return c.matches(d,b)[a.criteriaMatchPath.name].map(function(d){var f=k({bind:c.bind,traceData:{hookType:a.name,context:d}},g);f=new J(b,a.criteriaMatchPath.scope===e.TransitionHookScope.STATE?d.state.self:null,c,f);return{hook:c,node:d,transitionHook:f}})}).reduce(z,[]).sort(zd(a.reverseSort)).map(function(a){return a.transitionHook})};
b.prototype.getMatchingHooks=function(a,b,d){var c=this.transition.router.transitionService;return(a.hookPhase===e.TransitionHookPhase.CREATE?[c]:[this.transition,c]).map(function(b){return b.getHooks(a.name)}).filter(fa(t,"broken event named: "+a.name)).reduce(z,[]).filter(function(a){return a.matches(b,d)})};return b}(),dc=v("self"),Da=function(){function b(a,b,d){var c=this;this._deferred=m.$q.defer();this.promise=this._deferred.promise;this._registeredHooks={};this._hookBuilder=new cc(this);this.isActive=
function(){return c.router.globals.transition===c};this.router=d;this._targetState=b;if(!b.valid())throw Error(b.error());this._options=k({current:D(this)},b.options());this.$id=d.transitionService._transitionCount++;b=T.buildToPath(a,b);this._treeChanges=T.treeChanges(a,b,this._options.reloadState);this.createTransitionHookRegFns();a=this._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.CREATE);J.invokeHooks(a,function(){return null});this.applyViewConfigs(d)}b.prototype.onBefore=function(a,
b,d){};b.prototype.onStart=function(a,b,d){};b.prototype.onExit=function(a,b,d){};b.prototype.onRetain=function(a,b,d){};b.prototype.onEnter=function(a,b,d){};b.prototype.onFinish=function(a,b,d){};b.prototype.onSuccess=function(a,b,d){};b.prototype.onError=function(a,b,d){};b.prototype.createTransitionHookRegFns=function(){var a=this;this.router.transitionService._pluginapi._getEvents().filter(function(a){return a.hookPhase!==e.TransitionHookPhase.CREATE}).forEach(function(b){return Xa(a,a.router.transitionService,
b)})};b.prototype.getHooks=function(a){return this._registeredHooks[a]};b.prototype.applyViewConfigs=function(a){var b=this._treeChanges.entering.map(function(a){return a.state});T.applyViewConfigs(a.transitionService.$view,this._treeChanges.to,b)};b.prototype.$from=function(){return H(this._treeChanges.from).state};b.prototype.$to=function(){return H(this._treeChanges.to).state};b.prototype.from=function(){return this.$from().self};b.prototype.to=function(){return this.$to().self};b.prototype.targetState=
function(){return this._targetState};b.prototype.is=function(a){return a instanceof b?this.is({to:a.$to().name,from:a.$from().name}):!(a.to&&!Ba(this.$to(),a.to,this)||a.from&&!Ba(this.$from(),a.from,this))};b.prototype.params=function(a){void 0===a&&(a="to");return Object.freeze(this._treeChanges[a].map(v("paramValues")).reduce(Ia,{}))};b.prototype.paramsChanged=function(){var a=this.params("from"),b=this.params("to"),d=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(a){return a.paramSchema}).reduce(Ja,
[]).reduce(qa,[]);return P.changed(d,a,b).reduce(function(a,c){a[c.id]=b[c.id];return a},{})};b.prototype.injector=function(a,b){void 0===b&&(b="to");b=this._treeChanges[b];a&&(b=T.subPath(b,function(b){return b.state===a||b.state.name===a}));return(new R(b)).injector()};b.prototype.getResolveTokens=function(a){void 0===a&&(a="to");return(new R(this._treeChanges[a])).getTokens()};b.prototype.addResolvable=function(a,b){void 0===b&&(b="");a=L(y)(a)?a:new y(a);var c="string"===typeof b?b:b.name;b=this._treeChanges.to;
var f=U(b,function(a){return a.state.name===c});(new R(b)).addResolvables([a],f.state)};b.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null};b.prototype.originalTransition=function(){var a=this.redirectedFrom();return a&&a.originalTransition()||this};b.prototype.options=function(){return this._options};b.prototype.entering=function(){return O(this._treeChanges.entering,v("state")).map(dc)};b.prototype.exiting=function(){return O(this._treeChanges.exiting,v("state")).map(dc).reverse()};
b.prototype.retained=function(){return O(this._treeChanges.retained,v("state")).map(dc)};b.prototype.views=function(a,b){void 0===a&&(a="entering");a=this._treeChanges[a];a=b?a.filter(ba("state",b)):a;return a.map(v("views")).filter(G).reduce(z,[])};b.prototype.treeChanges=function(a){return a?this._treeChanges[a]:this._treeChanges};b.prototype.redirect=function(a){for(var b=1,d=this;null!=(d=d.redirectedFrom());)if(20<++b)throw Error("Too many consecutive Transition redirects (20+)");b={redirectedFrom:this,
source:"redirect"};"url"===this.options().source&&!1!==a.options().location&&(b.location="replace");b=k({},this.options(),a.options(),b);a=a.withOptions(b,!0);b=this.router.transitionService.create(this._treeChanges.from,a);var f=this._treeChanges.entering;T.matching(b._treeChanges.entering,f,T.nonDynamicParams).filter(Z(function(a){return function(b){return a&&b.state.includes[a.name]}}(a.options().reloadState))).forEach(function(a,b){a.resolvables=f[b].resolvables});return b};b.prototype._changedParams=
function(){var a=this._treeChanges;if(!(this._options.reload||a.exiting.length||a.entering.length||a.to.length!==a.from.length||ha(a.to,a.from).map(function(a){return a[0].state!==a[1].state}).reduce(ib,!1))){var b=a.to.map(function(a){return a.paramSchema});a=[a.to,a.from].map(function(a){return a.map(function(a){return a.paramValues})});return ha(b,a[0],a[1]).map(function(a){return P.changed(a[0],a[1],a[2])}).reduce(z,[])}};b.prototype.dynamic=function(){var a=this._changedParams();return a?a.map(function(a){return a.dynamic}).reduce(ib,
!1):!1};b.prototype.ignored=function(){return!!this._ignoredReason()};b.prototype._ignoredReason=function(){var a=this.router.globals.transition,b=this._options.reloadState,d=function(a,c){if(a.length!==c.length)return!1;c=T.matching(a,c);return a.length===c.filter(function(a){return!b||!a.state.includes[b.name]}).length},f=this.treeChanges();if((a=a&&a.treeChanges())&&d(a.to,f.to)&&d(a.exiting,f.exiting))return"SameAsPending";if(0===f.exiting.length&&0===f.entering.length&&d(f.from,f.to))return"SameAsCurrent"};
b.prototype.run=function(){var a=this,b=J.runAllHooks,d=a._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.BEFORE);J.invokeHooks(d,function(){var b=a.router.globals;b.lastStartedTransitionId=a.$id;b.transition=a;b.transitionHistory.enqueue(a);A.traceTransitionStart(a);return m.$q.when(void 0)}).then(function(){var b=a._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.RUN);return J.invokeHooks(b,function(){return m.$q.when(void 0)})}).then(function(){A.traceSuccess(a.$to(),a);a.success=!0;
a._deferred.resolve(a.to());b(a._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.SUCCESS))},function(c){A.traceError(c,a);a.success=!1;a._deferred.reject(c);a._error=c;b(a._hookBuilder.buildHooksForPhase(e.TransitionHookPhase.ERROR))});return this.promise};b.prototype.valid=function(){return!this.error()||void 0!==this.success};b.prototype.abort=function(){X(this.success)&&(this._aborted=!0)};b.prototype.error=function(){var a=this.$to();if(a.self.abstract)return B.invalid("Cannot transition to abstract state '"+
a.name+"'");var b=a.parameters(),d=this.params();b=b.filter(function(a){return!a.validates(d[a.id])});if(b.length)return b=b.map(function(a){return"["+a.id+":"+E(d[a.id])+"]"}).join(", "),B.invalid("The following parameter values are not valid for state '"+a.name+"': "+b);if(!1===this.success)return this._error};b.prototype.toString=function(){var a=this.from(),b=this.to(),d=function(a){return null!==a["#"]&&void 0!==a["#"]?a:ta(a,["#"])},f=this.$id;a=I(a)?a.name:a;var g=E(d(this._treeChanges.from.map(v("paramValues")).reduce(Ia,
{}))),e=this.valid()?"":"(X) ";b=I(b)?b.name:b;d=E(d(this.params()));return"Transition#"+f+"( '"+a+"'"+g+" -\x3e "+e+"'"+b+"'"+d+" )"};return b.diToken=b}(),Vd=function(b,a,c){return b[a]=b[a]||c()},Wd=Fb("/"),Xd={state:{params:{}},strict:!0,caseInsensitive:!0},ja=function(){function b(a,c,d,f){var g=this;this._cache={path:[this]};this._children=[];this._params=[];this._segments=[];this._compiled=[];this.config=f=Y(f,Xd);this.pattern=a;for(var e=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?::\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,
p=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?::\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,x=[],w=0,n,u=function(c){if(!b.nameValidator.test(c))throw Error("Invalid parameter name '"+c+"' in pattern '"+a+"'");if(U(g._params,ba("id",c)))throw Error("Duplicate parameter name '"+c+"' in pattern '"+a+"'");},k=function(b,d){var f=b[2]||b[3],e=d?b[4]:b[4]||("*"===b[1]?"[\\s\\S]*":null);b=a.substring(w,b.index);if(e){var h;(h=c.type(e))||(h=oa(c.type(d?"query":"path"),{pattern:new RegExp(e,g.config.caseInsensitive?
"i":void 0)}));d=h}else d=null;return{id:f,regexp:e,segment:b,type:d}},l;n=e.exec(a);){n=k(n,!1);if(0<=n.segment.indexOf("?"))break;u(n.id);this._params.push(d.fromPath(n.id,n.type,f.state));this._segments.push(n.segment);x.push([n.segment,H(this._params)]);w=e.lastIndex}l=a.substring(w);n=l.indexOf("?");if(0<=n){var Uc=l.substring(n);l=l.substring(0,n);if(0<Uc.length)for(w=0;n=p.exec(Uc);)n=k(n,!0),u(n.id),this._params.push(d.fromSearch(n.id,n.type,f.state)),w=e.lastIndex}this._segments.push(l);
this._compiled=x.map(function(a){return Bc.apply(null,a)}).concat(Bc(l))}b.encodeDashes=function(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})};b.pathSegmentsAndParams=function(a){var b=a._segments;a=a._params.filter(function(a){return a.location===e.DefType.PATH});return ha(b,a.concat(void 0)).reduce(z,[]).filter(function(a){return""!==a&&l(a)})};b.queryParams=function(a){return a._params.filter(function(a){return a.location===
e.DefType.SEARCH})};b.compare=function(a,c){var d=function(a){return a._cache.segments=a._cache.segments||a._cache.path.map(b.pathSegmentsAndParams).reduce(z,[]).reduce(Gb,[]).map(function(a){return q(a)?Wd(a):a}).reduce(z,[])},f=function(a){return a._cache.weights=a._cache.weights||d(a).map(function(a){if("/"===a)return 1;if(q(a))return 2;if(a instanceof P)return 3})};a=f(a);c=f(c);(function(a,b,c){for(var d=Math.max(a.length,b.length);a.length<d;)a.push(c);for(;b.length<d;)b.push(c)})(a,c,0);c=
ha(a,c);for(a=0;a<c.length;a++)if(f=c[a][0]-c[a][1],0!==f)return f;return 0};b.prototype.append=function(a){this._children.push(a);a._cache={path:this._cache.path.concat(a),parent:this,pattern:null};return a};b.prototype.isRoot=function(){return this._cache.path[0]===this};b.prototype.toString=function(){return this.pattern};b.prototype.exec=function(a,b,d,f){function c(a){var b=function(a){return a.split("").reverse().join("")};a=b(a).split(/-(?!\\)/);b=O(a,b);return O(b,function(a){return a.replace(/\\-/g,
"-")}).reverse()}var e=this;void 0===b&&(b={});a=Vd(this._cache,"pattern",function(){return new RegExp(["^",jb(e._cache.path.map(v("_compiled"))).join(""),!1===e.config.strict?"/?":"","$"].join(""),e.config.caseInsensitive?"i":void 0)}).exec(a);if(!a)return null;var p=this.parameters();f=p.filter(function(a){return!a.isSearch()});p=p.filter(function(a){return a.isSearch()});var x=this._cache.path.map(function(a){return a._segments.length-1}).reduce(function(a,b){return a+b}),w={};if(x!==a.length-
1)throw Error("Unbalanced capture group in route '"+this.pattern+"'");for(var n=0;n<x;n++){for(var u=f[n],k=a[n+1],m=0;m<u.replace.length;m++)u.replace[m].from===k&&(k=u.replace[m].to);k&&!0===u.array&&(k=c(k));l(k)&&(k=u.type.decode(k));w[u.id]=u.value(k)}p.forEach(function(a){for(var c=b[a.id],d=0;d<a.replace.length;d++)a.replace[d].from===c&&(c=a.replace[d].to);l(c)&&(c=a.type.decode(c));w[a.id]=a.value(c)});d&&(w["#"]=d);return w};b.prototype.parameters=function(a){void 0===a&&(a={});return!1===
a.inherit?this._params:jb(this._cache.path.map(function(a){return a._params}))};b.prototype.parameter=function(a,b){void 0===b&&(b={});var c=this._cache.parent;a:{var f=0;for(var g=this._params;f<g.length;f++){var e=g[f];if(e.id===a){f=e;break a}}f=void 0}return f||!1!==b.inherit&&c&&c.parameter(a,b)||null};b.prototype.validates=function(a){a=a||{};return this.parameters().filter(function(b){return a.hasOwnProperty(b.id)}).map(function(b){return!b||b.validates(a[b.id])}).reduce(hb,!0)};b.prototype.format=
function(a){function c(b){var c=b.value(a[b.id]),d=b.validates(c),f=b.isDefaultValue(c),g=f?b.squash:!1,e=b.type.encode(c);return{param:b,value:c,isValid:d,isDefaultValue:f,squash:g,encoded:e}}void 0===a&&(a={});var d=this._cache.path,f=d.map(b.pathSegmentsAndParams).reduce(z,[]).map(function(a){return q(a)?a:c(a)});d=d.map(b.queryParams).reduce(z,[]).map(c);if(f.concat(d).filter(function(a){return!1===a.isValid}).length)return null;f=f.reduce(function(a,c){if(q(c))return a+c;var d=c.squash,f=c.encoded;
c=c.param;return!0===d?a.match(/\/$/)?a.slice(0,-1):a:q(d)?a+d:!1!==d||null==f?a:t(f)?a+O(f,b.encodeDashes).join("-"):c.raw?a+f:a+encodeURIComponent(f)},"");d=d.map(function(a){var b=a.param,c=a.squash,d=a.encoded;a=a.isDefaultValue;if(!(null==d||a&&!1!==c)&&(t(d)||(d=[d]),0!==d.length))return b.raw||(d=O(d,encodeURIComponent)),d.map(function(a){return b.id+"\x3d"+a})}).filter(G).reduce(z,[]).join("\x26");return f+(d?"?"+d:"")+(a["#"]?"#"+a["#"]:"")};b.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;return b}(),
ec=function(){ec=Object.assign||function(b){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f])}return b};return ec.apply(this,arguments)},fc=function(){function b(a){this.router=a}b.prototype.fromConfig=function(a,b,d){return new P(a,b,e.DefType.CONFIG,this.router.urlService.config,d)};b.prototype.fromPath=function(a,b,d){return new P(a,b,e.DefType.PATH,this.router.urlService.config,d)};b.prototype.fromSearch=function(a,b,
d){return new P(a,b,e.DefType.SEARCH,this.router.urlService.config,d)};return b}(),gc=function(){function b(a){var b=this;this.router=a;this.paramFactory=new fc(this.router);this.caseInsensitive=function(a){return b.router.urlService.config.caseInsensitive(a)};this.defaultSquashPolicy=function(a){return b.router.urlService.config.defaultSquashPolicy(a)};this.strictMode=function(a){return b.router.urlService.config.strictMode(a)};this.type=function(a,c,e){return b.router.urlService.config.type(a,c,
e)||b};k(this,{UrlMatcher:ja,Param:P})}b.prototype.compile=function(a,b){var c=this.router.urlService.config,f=b&&!b.state&&b.params;b=f?ec({state:{params:f}},b):b;return new ja(a,c.paramTypes,this.paramFactory,k({strict:c._isStrictMode,caseInsensitive:c._isCaseInsensitive},b))};b.prototype.isMatcher=function(a){if(!I(a))return!1;var b=!0;aa(ja.prototype,function(c,f){r(c)&&(b=b&&l(a[f])&&r(a[f]))});return b};b.prototype.$get=function(){var a=this.router.urlService.config;a.paramTypes.enqueue=!1;
a.paramTypes._flushTypeQueue();return this};return b}(),Pa=function(){function b(a){this.router=a}b.prototype.compile=function(a){return this.router.urlMatcherFactory.compile(a)};b.prototype.create=function(a,b){var c=this,f=pb.isState,e=da([[q,function(a){return e(c.compile(a))}],[L(ja),function(a){return c.fromUrlMatcher(a,b)}],[f,function(a){return c.fromState(a,c.router)}],[L(RegExp),function(a){return c.fromRegExp(a,b)}],[r,function(a){return new xa(a,b)}]]);a=e(a);if(!a)throw Error("invalid 'what' in when()");
return a};b.prototype.fromUrlMatcher=function(a,b){var c=b;q(b)&&(b=this.router.urlMatcherFactory.compile(b));L(ja)(b)&&(c=function(a){return b.format(a)});var f={urlMatcher:a,matchPriority:function(b){var c=a.parameters().filter(function(a){return a.isOptional});return c.length?c.filter(function(a){return b[a.id]}).length/c.length:1E-6},type:"URLMATCHER"};return k(new xa(function(b){b=a.exec(b.path,b.search,b.hash);return a.validates(b)&&b},c),f)};b.prototype.fromState=function(a,b){var c={state:a,
type:"STATE"};return k(this.fromUrlMatcher(a.url,function(c){var d=b.stateService,f=b.globals;d.href(a,c)!==d.href(f.current,f.params)&&d.transitionTo(a,c,{inherit:!0,source:"url"})}),c)};b.prototype.fromRegExp=function(a,b){if(a.global||a.sticky)throw Error("Rule RegExp must not be global or sticky");var c=function(a){return b.replace(/\$(\$|\d{1,2})/,function(b,c){return a["$"===c?0:Number(c)]})};c=q(b)?c:b;var f={regexp:a,type:"REGEXP"};return k(new xa(function(b){return a.exec(b.path)},c),f)};
b.isUrlRule=function(a){return a&&["type","match","handler"].every(function(b){return l(a[b])})};return b}(),xa=function(){return function(b,a){var c=this;this.match=b;this.type="RAW";this.matchPriority=function(a){return 0-c.$id};this.handler=a||G}}(),hc=function(){function b(a){var b=this;this.router=a;this.sync=function(a){return b.router.urlService.sync(a)};this.listen=function(a){return b.router.urlService.listen(a)};this.deferIntercept=function(a){return b.router.urlService.deferIntercept(a)};
this.match=function(a){return b.router.urlService.match(a)};this.initial=function(a){return b.router.urlService.rules.initial(a)};this.otherwise=function(a){return b.router.urlService.rules.otherwise(a)};this.removeRule=function(a){return b.router.urlService.rules.removeRule(a)};this.rule=function(a){return b.router.urlService.rules.rule(a)};this.rules=function(){return b.router.urlService.rules.rules()};this.sort=function(a){return b.router.urlService.rules.sort(a)};this.when=function(a,c,e){return b.router.urlService.rules.when(a,
c,e)};this.urlRuleFactory=new Pa(a)}b.prototype.update=function(a){var b=this.router.locationService;a?this.location=b.url():b.url()!==this.location&&b.url(this.location,!0)};b.prototype.push=function(a,b,d){d=d&&!!d.replace;this.router.urlService.url(a.format(b||{}),d)};b.prototype.href=function(a,b,d){b=a.format(b);if(null==b)return null;d=d||{absolute:!1};a=this.router.urlService.config;var c=a.html5Mode();c||null===b||(b="#"+a.hashPrefix()+b);var e=d.absolute,h=a.baseHref();b="/"===h?b:c?lb(h)+
b:e?h.slice(1)+b:b;if(!d.absolute||!b)return b;d=!c&&b?"/":"";c=a.port();c=80===c||443===c?"":":"+c;return[a.protocol(),"://",a.host(),c,d,b].join("")};Object.defineProperty(b.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0});return b}(),ab=function(){function b(a){var b=this;this.router=a;this._uiViews=[];this._viewConfigs=[];this._viewConfigFactories={};this._listeners=[];this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),
_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(a){return U(b._uiViews,function(c){return b.router.$id+"."+c.id===a})},_registeredUIViews:function(){return b._uiViews},_activeViewConfigs:function(){return b._viewConfigs},_onSync:function(a){b._listeners.push(a);return function(){return M(b._listeners,a)}}}}b.normalizeUIViewTarget=function(a,b){void 0===b&&(b="");var c=b.split("@");b=c[0]||"$default";c=q(c[1])?c[1]:"^";var f=/^(\^(?:\.\^)*)\.(.*$)/.exec(b);f&&(c=f[1],
b=f[2]);"!"===b.charAt(0)&&(b=b.substr(1),c="");/^(\^(?:\.\^)*)$/.exec(c)?c=c.split(".").reduce(function(a,b){return a.parent},a).name:"."===c&&(c=a.name);return{uiViewName:b,uiViewContextAnchor:c}};b.prototype._rootViewContext=function(a){return this._rootContext=a||this._rootContext};b.prototype._viewConfigFactory=function(a,b){this._viewConfigFactories[a]=b};b.prototype.createViewConfig=function(a,b){var c=this._viewConfigFactories[b.$type];if(!c)throw Error("ViewService: No view config factory registered for type "+
b.$type);a=c(a,b);return t(a)?a:[a]};b.prototype.deactivateViewConfig=function(a){A.traceViewServiceEvent("\x3c- Removing",a);M(this._viewConfigs,a)};b.prototype.activateViewConfig=function(a){A.traceViewServiceEvent("-\x3e Registering",a);this._viewConfigs.push(a)};b.prototype.sync=function(){function a(a){a=a.viewDecl.$context;for(var b=0;++b&&a.parent;)a=a.parent;return b}var c=this,d=this._uiViews.map(function(a){return[a.fqn,a]}).reduce(ua,{}),f=la(function(a,b,c,d){return b*(a(c)-a(d))}),e=
this._uiViews.sort(f(function(a){var b=function(a){return a&&a.parent?b(a.parent)+1:1};return 1E4*a.fqn.split(".").length+b(a.creationContext)},1)).map(function(e){var g=c._viewConfigs.filter(b.matches(d,e));1<g.length&&g.sort(f(a,-1));return{uiView:e,viewConfig:g[0]}}),h=e.map(function(a){return a.viewConfig}),p=this._viewConfigs.filter(function(a){return!Q(h,a)}).map(function(a){return{uiView:void 0,viewConfig:a}});e.forEach(function(a){-1!==c._uiViews.indexOf(a.uiView)&&a.uiView.configUpdated(a.viewConfig)});
var k=e.concat(p);this._listeners.forEach(function(a){return a(k)});A.traceViewSync(k)};b.prototype.registerUIView=function(a){A.traceViewServiceUIViewEvent("-\x3e Registering",a);var b=this._uiViews;b.filter(function(b){return b.fqn===a.fqn&&b.$type===a.$type}).length&&A.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",a);b.push(a);this.sync();return function(){-1===b.indexOf(a)?A.traceViewServiceUIViewEvent("Tried removing non-registered uiView",a):(A.traceViewServiceUIViewEvent("\x3c- Deregistering",
a),M(b)(a))}};b.prototype.available=function(){return this._uiViews.map(v("fqn"))};b.prototype.active=function(){return this._uiViews.filter(v("$config")).map(v("name"))};b.matches=function(a,b){return function(c){if(b.$type!==c.viewDecl.$type)return!1;c=c.viewDecl;var d=c.$uiViewName.split("."),e=b.fqn.split(".");if(!Ha(d,e.slice(0-d.length)))return!1;d=e.slice(0,1-d.length||void 0).join(".");d=a[d].creationContext;return c.$uiViewContextAnchor===(d&&d.name)}};return b}(),ic=function(){function b(){this.params=
new Xb;this.lastStartedTransitionId=-1;this.transitionHistory=new La([],1);this.successfulTransitions=new La([],1)}b.prototype.dispose=function(){this.transitionHistory.clear();this.successfulTransitions.clear();this.transition=null};return b}();var Yd=function(b,a){var c=(a.priority||0)-(b.priority||0);if(0!==c)return c;c={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};c=(c[b.type]||0)-(c[a.type]||0);if(0!==c)return c;c=b.urlMatcher&&a.urlMatcher?ja.compare(b.urlMatcher,a.urlMatcher):0;if(0!==c)return c;
c={STATE:!0,URLMATCHER:!0};return c[b.type]&&c[a.type]?0:(b.$id||0)-(a.$id||0)};var jc=function(){function b(a){this.router=a;this._sortFn=Yd;this._rules=[];this._id=0;this.urlRuleFactory=new Pa(a)}b.prototype.dispose=function(a){this._rules=[];delete this._otherwiseFn};b.prototype.initial=function(a){a=Cc(a);this.rule(this.urlRuleFactory.create(function(a,b){return 0===b.globals.transitionHistory.size()&&!!/^\/?$/.exec(a.path)},a))};b.prototype.otherwise=function(a){a=Cc(a);this._otherwiseFn=this.urlRuleFactory.create(D(!0),
a);this._sorted=!1};b.prototype.removeRule=function(a){M(this._rules,a)};b.prototype.rule=function(a){var b=this;if(!Pa.isUrlRule(a))throw Error("invalid rule");a.$id=this._id++;a.priority=a.priority||0;this._rules.push(a);this._sorted=!1;return function(){return b.removeRule(a)}};b.prototype.rules=function(){this.ensureSorted();return this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])};b.prototype.sort=function(a){a=this.stableSort(this._rules,this._sortFn=a||this._sortFn);for(var b=0,
d=0;d<a.length;d++)a[d]._group=b,d<a.length-1&&0!==this._sortFn(a[d],a[d+1])&&b++;this._rules=a;this._sorted=!0};b.prototype.ensureSorted=function(){this._sorted||this.sort()};b.prototype.stableSort=function(a,b){a=a.map(function(a,b){return{elem:a,idx:b}});a.sort(function(a,c){var d=b(a.elem,c.elem);return 0===d?a.idx-c.idx:d});return a.map(function(a){return a.elem})};b.prototype.when=function(a,b,d){a=this.urlRuleFactory.create(a,b);l(d&&d.priority)&&(a.priority=d.priority);this.rule(a);return a};
return b}(),kc=function(){function b(a){var b=this;this.router=a;this.paramTypes=new mb;this._isCaseInsensitive=!1;this._isStrictMode=!0;this._defaultSquashPolicy=!1;this.dispose=function(){return b.paramTypes.dispose()};this.baseHref=function(){return b.router.locationConfig.baseHref()};this.hashPrefix=function(a){return b.router.locationConfig.hashPrefix(a)};this.host=function(){return b.router.locationConfig.host()};this.html5Mode=function(){return b.router.locationConfig.html5Mode()};this.port=
function(){return b.router.locationConfig.port()};this.protocol=function(){return b.router.locationConfig.protocol()}}b.prototype.caseInsensitive=function(a){return this._isCaseInsensitive=l(a)?a:this._isCaseInsensitive};b.prototype.defaultSquashPolicy=function(a){if(l(a)&&!0!==a&&!1!==a&&!q(a))throw Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=l(a)?a:this._defaultSquashPolicy};b.prototype.strictMode=function(a){return this._isStrictMode=
l(a)?a:this._isStrictMode};b.prototype.type=function(a,b,d){a=this.paramTypes.type(a,b,d);return l(b)?this:a};return b}(),lc=function(){function b(a){var b=this;this.router=a;this.interceptDeferred=!1;this.rules=new jc(this.router);this.config=new kc(this.router);this.url=function(a,c,e){return b.router.locationService.url(a,c,e)};this.path=function(){return b.router.locationService.path()};this.search=function(){return b.router.locationService.search()};this.hash=function(){return b.router.locationService.hash()};
this.onChange=function(a){return b.router.locationService.onChange(a)}}b.prototype.dispose=function(){this.listen(!1);this.rules.dispose()};b.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}};b.prototype.sync=function(a){if(!a||!a.defaultPrevented){a=this.router;var b=a.urlService,d=a.stateService;a={path:b.path(),search:b.search(),hash:b.hash()};var f=this.match(a);da([[q,function(a){return b.url(a,!0)}],[V.isDef,function(a){return d.go(a.state,a.params,a.options)}],
[L(V),function(a){return d.go(a.state(),a.params(),a.options())}]])(f&&f.rule.handler(f.match,a,this.router))}};b.prototype.listen=function(a){var b=this;if(!1===a)this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn;else return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(a){return b.sync(a)})};b.prototype.deferIntercept=function(a){void 0===a&&(a=!0);this.interceptDeferred=a};b.prototype.match=function(a){a=k({path:"",search:{},hash:""},
a);for(var b=this.rules.rules(),d,f=0;f<b.length&&(!d||d.rule._group===b[f]._group);f++){var e=b[f];var h=e.match(a,this.router);e=h&&{match:h,rule:e,weight:e.matchPriority(h)};d=!d||e&&e.weight>d.weight?e:d}return d};return b}(),Zd=0,$d=eb("LocationServices",["url","path","search","hash","onChange"]),ae=eb("LocationConfig","port protocol host baseHref html5Mode hashPrefix".split(" ")),Ya=function(){function b(a,b){void 0===a&&(a=$d);void 0===b&&(b=ae);this.locationService=a;this.locationConfig=b;
this.$id=Zd++;this._disposed=!1;this._disposables=[];this.trace=A;this.viewService=new ab(this);this.globals=new ic;this.transitionService=new mc(this);this.urlMatcherFactory=new gc(this);this.urlRouter=new hc(this);this.urlService=new lc(this);this.stateRegistry=new bc(this);this.stateService=new nc(this);this._plugins={};this.viewService._pluginapi._rootViewContext(this.stateRegistry.root());this.globals.$current=this.stateRegistry.root();this.globals.current=this.globals.$current.self;this.disposable(this.globals);
this.disposable(this.stateService);this.disposable(this.stateRegistry);this.disposable(this.transitionService);this.disposable(this.urlService);this.disposable(a);this.disposable(b)}b.prototype.disposable=function(a){this._disposables.push(a)};b.prototype.dispose=function(a){var b=this;a&&r(a.dispose)?a.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(a){try{"function"===typeof a.dispose&&a.dispose(b),M(b._disposables,a)}catch(f){}}))};b.prototype.plugin=function(a,b){void 0===
b&&(b={});a=new a(this,b);if(!a.name)throw Error("Required property `name` missing on plugin: "+a);this._disposables.push(a);return this._plugins[a.name]=a};b.prototype.getPlugin=function(a){return a?this._plugins[a]:W(this._plugins)};return b}(),be=Q(["$transition$",Da]),ce=function(b){var a=function(a){return be(a.token)?y.fromData(a.token,null):a};W(b.treeChanges()).reduce(z,[]).reduce(qa,[]).forEach(function(b){b.resolvables=b.resolvables.map(a)})},de=function(b){function a(a){if(a){if(a instanceof
V)return a;if(q(a))return d.target(a,b.params(),b.options());if(a.state||a.params)return d.target(a.state||b.to(),a.params||b.params(),b.options())}}var c=b.to().redirectTo;if(c){var d=b.router.stateService;return r(c)?m.$q.when(c(b)).then(a):a(c)}},ee=function(b){return b.onStart({to:function(a){return!!a.redirectTo}},de)},fe=Kb("onExit"),ge=function(b){return b.onExit({exiting:function(a){return!!a.onExit}},fe)},he=Kb("onRetain"),ie=function(b){return b.onRetain({retained:function(a){return!!a.onRetain}},
he)},je=Kb("onEnter"),ke=function(b){return b.onEnter({entering:function(a){return!!a.onEnter}},je)},le=function(b){return(new R(b.treeChanges().to)).resolvePath("EAGER",b).then(K)},me=function(b,a){return(new R(b.treeChanges().to)).subContext(a.$$state()).resolvePath("LAZY",b).then(K)},ne=function(b){return(new R(b.treeChanges().to)).resolvePath("LAZY",b).then(K)},oe=function(b){var a=m.$q;b=b.views("entering");if(b.length)return a.all(b.map(function(b){return a.when(b.load())})).then(K)},pe=function(b){var a=
b.views("entering"),c=b.views("exiting");if(a.length||c.length){var d=b.router.viewService;c.forEach(function(a){return d.deactivateViewConfig(a)});a.forEach(function(a){return d.activateViewConfig(a)});d.sync()}},qe=function(b){var a=b.router.globals,c=function(){a.transition===b&&(a.transition=null)};b.onSuccess({},function(){a.successfulTransitions.enqueue(b);a.$current=b.$to();a.current=a.$current.self;Ra(b.params(),a.params)},{priority:1E4});b.promise.then(c,c)},re=function(b){var a=b.options(),
c=b.router.stateService;b=b.router.urlRouter;"url"!==a.source&&a.location&&c.$current.navigable&&b.push(c.$current.navigable.url,c.params,{replace:"replace"===a.location});b.update(!0)},se=function(b){var a=b.router,c=b.entering().filter(function(a){return!!a.$$state().lazyLoad}).map(function(a){return Dc(b,a)});return m.$q.all(c).then(function(){if("url"!==b.originalTransition().options().source){var c=b.targetState();return a.stateService.target(c.identifier(),c.params(),c.options())}c=a.urlService;
var f=(c=c.match(c.parts()))&&c.rule;if(f&&"STATE"===f.type)return a.stateService.target(f.state,c.match,b.options());a.urlService.sync()})},te=function(b){return b.onBefore({entering:function(a){return!!a.lazyLoad}},se)},oc=function(){return function(b,a,c,d,f,e,h,p){void 0===f&&(f=!1);void 0===e&&(e=J.HANDLE_RESULT);void 0===h&&(h=J.REJECT_ERROR);void 0===p&&(p=!1);this.name=b;this.hookPhase=a;this.hookOrder=c;this.criteriaMatchPath=d;this.reverseSort=f;this.getResultHandler=e;this.getErrorHandler=
h;this.synchronous=p}}(),qb={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,supercede:!0,custom:{},current:function(){return null},source:"unknown"},mc=function(){function b(a){this._transitionCount=0;this._eventTypes=[];this._registeredHooks={};this._criteriaPaths={};this._router=a;this.$view=a.viewService;this._deregisterHookFns={};this._pluginapi=ea(D(this),{},D(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]);this._defineCorePaths();this._defineCoreEvents();
this._registerCoreTransitionHooks();a.globals.successfulTransitions.onEvict(ce)}b.prototype.onCreate=function(a,b,d){};b.prototype.onBefore=function(a,b,d){};b.prototype.onStart=function(a,b,d){};b.prototype.onExit=function(a,b,d){};b.prototype.onRetain=function(a,b,d){};b.prototype.onEnter=function(a,b,d){};b.prototype.onFinish=function(a,b,d){};b.prototype.onSuccess=function(a,b,d){};b.prototype.onError=function(a,b,d){};b.prototype.dispose=function(a){W(this._registeredHooks).forEach(function(a){return a.forEach(function(b){b._deregistered=
!0;M(a,b)})})};b.prototype.create=function(a,b){return new Da(a,b,this._router)};b.prototype._defineCoreEvents=function(){var a=e.TransitionHookPhase,b=this._criteriaPaths;this._defineEvent("onCreate",a.CREATE,0,b.to,!1,J.LOG_REJECTED_RESULT,J.THROW_ERROR,!0);this._defineEvent("onBefore",a.BEFORE,0,b.to);this._defineEvent("onStart",a.RUN,0,b.to);this._defineEvent("onExit",a.RUN,100,b.exiting,!0);this._defineEvent("onRetain",a.RUN,200,b.retained);this._defineEvent("onEnter",a.RUN,300,b.entering);this._defineEvent("onFinish",
a.RUN,400,b.to);this._defineEvent("onSuccess",a.SUCCESS,0,b.to,!1,J.LOG_REJECTED_RESULT,J.LOG_ERROR,!0);this._defineEvent("onError",a.ERROR,0,b.to,!1,J.LOG_REJECTED_RESULT,J.LOG_ERROR,!0)};b.prototype._defineCorePaths=function(){var a=e.TransitionHookScope.STATE,b=e.TransitionHookScope.TRANSITION;this._definePathType("to",b);this._definePathType("from",b);this._definePathType("exiting",a);this._definePathType("retained",a);this._definePathType("entering",a)};b.prototype._defineEvent=function(a,b,
d,f,e,h,p,k){void 0===e&&(e=!1);void 0===h&&(h=J.HANDLE_RESULT);void 0===p&&(p=J.REJECT_ERROR);void 0===k&&(k=!1);a=new oc(a,b,d,f,e,h,p,k);this._eventTypes.push(a);Xa(this,this,a)};b.prototype._getEvents=function(a){return(l(a)?this._eventTypes.filter(function(b){return b.hookPhase===a}):this._eventTypes.slice()).sort(function(a,b){var c=a.hookPhase-b.hookPhase;return 0===c?a.hookOrder-b.hookOrder:c})};b.prototype._definePathType=function(a,b){this._criteriaPaths[a]={name:a,scope:b}};b.prototype._getPathTypes=
function(){return this._criteriaPaths};b.prototype.getHooks=function(a){return this._registeredHooks[a]};b.prototype._registerCoreTransitionHooks=function(){var a=this._deregisterHookFns;a.addCoreResolves=this.onCreate({},Ad);a.ignored=this.onBefore({},Bd,{priority:-9999});a.invalid=this.onBefore({},Cd,{priority:-1E4});a.redirectTo=ee(this);a.onExit=ge(this);a.onRetain=ie(this);a.onEnter=ke(this);a.eagerResolve=this.onStart({},le,{priority:1E3});a.lazyResolve=this.onEnter({entering:D(!0)},me,{priority:1E3});
a.resolveAll=this.onFinish({},ne,{priority:1E3});a.loadViews=this.onFinish({},oe);a.activateViews=this.onSuccess({},pe);a.updateGlobals=this.onCreate({},qe);a.updateUrl=this.onSuccess({},re,{priority:9999});a.lazyLoad=te(this)};return b}(),nc=function(){function b(a){this.router=a;this.invalidCallbacks=[];this._defaultErrorHandler=function(a){a instanceof Error&&a.stack?(console.error(a),console.error(a.stack)):a instanceof B?(console.error(a.toString()),a.detail&&a.detail.stack&&console.error(a.detail.stack)):
console.error(a)};a=Object.keys(b.prototype).filter(Z(Q(["current","$current","params","transition"])));ea(D(b.prototype),this,D(this),a)}Object.defineProperty(b.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0});b.prototype.dispose=function(){this.defaultErrorHandler(K);this.invalidCallbacks=[]};b.prototype._handleInvalidTargetState=function(a,b){function c(){var a=k.dequeue();return void 0===a?B.invalid(b.error()).toPromise():m.$q.when(a(b,e,l)).then(n).then(function(a){return a||c()})}var f=this,e=T.makeTargetState(this.router.stateRegistry,a),h=this.router.globals,
p=h.transitionHistory.peekTail(),k=new La(this.invalidCallbacks.slice()),l=(new R(a)).injector(),n=function(a){if(a instanceof V)return a=f.target(a.identifier(),a.params(),a.options()),a.valid()?h.transitionHistory.peekTail()!==p?B.superseded().toPromise():f.transitionTo(a.identifier(),a.params(),a.options()):B.invalid(a.error()).toPromise()};return c()};b.prototype.onInvalid=function(a){this.invalidCallbacks.push(a);return function(){M(this.invalidCallbacks)(a)}.bind(this)};b.prototype.reload=function(a){return this.transitionTo(this.current,
this.params,{reload:l(a)?a:!0,inherit:!1,notify:!1})};b.prototype.go=function(a,b,d){d=Y(d,{relative:this.$current,inherit:!0},qb);return this.transitionTo(a,b,d)};b.prototype.target=function(a,b,d){void 0===d&&(d={});if(I(d.reload)&&!d.reload.name)throw Error("Invalid reload state object");var c=this.router.stateRegistry;d.reloadState=!0===d.reload?c.root():c.matcher.find(d.reload,d.relative);if(d.reload&&!d.reloadState)throw Error("No such reload state '"+(q(d.reload)?d.reload:d.reload.name)+"'");
return new V(this.router.stateRegistry,a,b,d)};b.prototype.getCurrentPath=function(){var a=this.router.globals.successfulTransitions.peekTail();return a?a.treeChanges().to:[new Oa(this.router.stateRegistry.root())]};b.prototype.transitionTo=function(a,b,d){var c=this;void 0===b&&(b={});void 0===d&&(d={});var g=this.router,h=g.globals;d=Y(d,qb);var p=function(){return h.transition};d=k(d,{current:p});a=this.target(a,b,d);b=this.getCurrentPath();if(!a.exists())return this._handleInvalidTargetState(b,
a);if(!a.valid())return Ka(a.error());if(!1===d.supercede&&p())return B.ignored("Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.").toPromise();var l=function(a){return function(b){if(b instanceof B){var d=g.globals.lastStartedTransitionId<=a.$id;if(b.type===e.RejectType.IGNORED)return d&&g.urlRouter.update(),m.$q.when(h.current);var f=b.detail;if(b.type===e.RejectType.SUPERSEDED&&
b.redirected&&f instanceof V)return b=a.redirect(f),b.run().catch(l(b));if(b.type===e.RejectType.ABORTED)return d&&g.urlRouter.update(),m.$q.reject(b)}c.defaultErrorHandler()(b);return m.$q.reject(b)}};d=this.router.transitionService.create(b,a);p=d.run().catch(l(d));kb(p);return k(p,{transition:d})};b.prototype.is=function(a,b,d){d=Y(d,{relative:this.$current});a=this.router.stateRegistry.matcher.find(a,d.relative);if(l(a)){if(this.$current!==a)return!1;if(!b)return!0;a=a.parameters({inherit:!0,
matchingKeys:b});return P.equals(a,P.values(a,b),this.params)}};b.prototype.includes=function(a,b,d){d=Y(d,{relative:this.$current});var c=q(a)&&Ca.fromString(a);if(c){if(!c.matches(this.$current.name))return!1;a=this.$current.name}a=this.router.stateRegistry.matcher.find(a,d.relative);d=this.$current.includes;if(l(a)){if(!l(d[a.name]))return!1;if(!b)return!0;a=a.parameters({inherit:!0,matchingKeys:b});return P.equals(a,P.values(a,b),this.params)}};b.prototype.href=function(a,b,d){d=Y(d,{lossy:!0,
inherit:!0,absolute:!1,relative:this.$current});b=b||{};a=this.router.stateRegistry.matcher.find(a,d.relative);if(!l(a))return null;d.inherit&&(b=this.params.$inherit(b,this.$current,a));return(a=a&&d.lossy?a.navigable:a)&&void 0!==a.url&&null!==a.url?this.router.urlRouter.href(a.url,b,{absolute:d.absolute}):null};b.prototype.defaultErrorHandler=function(a){return this._defaultErrorHandler=a||this._defaultErrorHandler};b.prototype.get=function(a,b){var c=this.router.stateRegistry;return 0===arguments.length?
c.get():c.get(a,b||this.$current)};b.prototype.lazyLoad=function(a,b){var c=this.get(a);if(!c||!c.lazyLoad)throw Error("Can not lazy load "+a);a=this.getCurrentPath();var f=T.makeTargetState(this.router.stateRegistry,a);b=b||this.router.transitionService.create(a,f);return Dc(b,c)};return b}(),Ga={when:function(b){return new Promise(function(a,c){return a(b)})},reject:function(b){return new Promise(function(a,c){c(b)})},defer:function(){var b={};b.promise=new Promise(function(a,c){b.resolve=a;b.reject=
c});return b},all:function(b){if(t(b))return Promise.all(b);if(I(b)){var a=Object.keys(b).map(function(a){return b[a].then(function(b){return{key:a,val:b}})});return Ga.all(a).then(function(a){return a.reduce(function(a,b){a[b.key]=b.val;return a},{})})}}},bd={},ue=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ve=/([^\s,]+)/g,wa={get:function(b){return bd[b]},has:function(b){return null!=wa.get(b)},invoke:function(b,a,c){var d=k({},bd,c||{});c=wa.annotate(b);var f=fa(function(a){return d.hasOwnProperty(a)},
function(a){return"DI can't find injectable: '"+a+"'"});c=c.filter(f).map(function(a){return d[a]});return r(b)?b.apply(a,c):b.slice(-1)[0].apply(a,c)},annotate:function(b){if(!ra(b))throw Error("Not an injectable function: "+b);if(b&&b.$inject)return b.$inject;if(t(b))return b.slice(0,-1);b=b.toString().replace(ue,"");return b.slice(b.indexOf("(")+1,b.indexOf(")")).match(ve)||[]}},pc=function(b,a){var c=a[0];a=a[1];b.hasOwnProperty(c)?t(b[c])?b[c].push(a):b[c]=[b[c],a]:b[c]=a;return b},qc=function(b){return b.split("\x26").filter(G).map(Ub).reduce(pc,
{})},rc=function(b){var a=b.path(),c=b.search();b=b.hash();var d=Object.keys(c).map(function(a){var b=c[a];return(t(b)?b:[b]).map(function(b){return a+"\x3d"+b})}).reduce(z,[]).join("\x26");return a+(d?"?"+d:"")+(b?"#"+b:"")},Qa=function(){function b(a,b){var c=this;this.fireAfterUpdate=b;this._listeners=[];this._listener=function(a){return c._listeners.forEach(function(b){return b(a)})};this.hash=function(){return Ea(c._get()).hash};this.path=function(){return Ea(c._get()).path};this.search=function(){return qc(Ea(c._get()).search)};
this._location=ca.location;this._history=ca.history}b.prototype.url=function(a,b){void 0===b&&(b=!0);l(a)&&a!==this._get()&&(this._set(null,null,a,b),this.fireAfterUpdate&&this._listeners.forEach(function(b){return b({url:a})}));return rc(this)};b.prototype.onChange=function(a){var b=this;this._listeners.push(a);return function(){return M(b._listeners,a)}};b.prototype.dispose=function(a){Tb(this._listeners)};return b}(),we=function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),sc=function(b){function a(a){a=b.call(this,a,!1)||this;ca.addEventListener("hashchange",a._listener,!1);return a}we(a,b);a.prototype._get=function(){return Vb(this._location.hash)};a.prototype._set=function(a,b,f,e){this._location.hash=f};a.prototype.dispose=
function(a){b.prototype.dispose.call(this,a);ca.removeEventListener("hashchange",this._listener)};return a}(Qa),xe=function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),tc=function(b){function a(a){return b.call(this,a,!0)||this}
xe(a,b);a.prototype._get=function(){return this._url};a.prototype._set=function(a,b,f,e){this._url=f};return a}(Qa),ye=function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(a,c)};return function(a,c){function d(){this.constructor=a}b(a,c);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),uc=function(b){function a(a){var c=b.call(this,a,!0)||
this;c._config=a.urlService.config;ca.addEventListener("popstate",c._listener,!1);return c}ye(a,b);a.prototype._getBasePrefix=function(){return lb(this._config.baseHref())};a.prototype._get=function(){var a=this._location,b=a.pathname,f=a.hash;a=a.search;a=$a(a)[1];f=Za(f)[1];var e=this._getBasePrefix(),h=b===this._config.baseHref(),p=b.substr(0,e.length)===e;b=h?"/":p?b.substring(e.length):b;return b+(a?"?"+a:"")+(f?"#"+f:"")};a.prototype._set=function(a,b,f,e){var c=this._getBasePrefix(),d=f&&"/"!==
f[0]?"/":"";f=""===f||"/"===f?this._config.baseHref():c+d+f;e?this._history.replaceState(a,b,f):this._history.pushState(a,b,f)};a.prototype.dispose=function(a){b.prototype.dispose.call(this,a);ca.removeEventListener("popstate",this._listener)};return a}(Qa),vc=function(){return function(){var b=this;this.dispose=K;this._baseHref="";this._port=80;this._protocol="http";this._host="localhost";this._hashPrefix="";this.port=function(){return b._port};this.protocol=function(){return b._protocol};this.host=
function(){return b._host};this.baseHref=function(){return b._baseHref};this.html5Mode=function(){return!1};this.hashPrefix=function(a){return l(a)?b._hashPrefix=a:b._hashPrefix}}}(),rb=function(){function b(a,b){void 0===b&&(b=!1);this._isHtml5=b;this._baseHref=void 0;this._hashPrefix=""}b.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80};b.prototype.protocol=function(){return location.protocol.replace(/:/g,"")};b.prototype.host=function(){return location.hostname};
b.prototype.html5Mode=function(){return this._isHtml5};b.prototype.hashPrefix=function(a){return l(a)?this._hashPrefix=a:this._hashPrefix};b.prototype.baseHref=function(a){l(a)&&(this._baseHref=a);X(this._baseHref)&&(this._baseHref=this.getBaseHref());return this._baseHref};b.prototype.getBaseHref=function(){var a=document.getElementsByTagName("base")[0];return a&&a.href?a.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):this._isHtml5?"/":location.pathname||"/"};b.prototype.dispose=function(){};return b}(),
cd=Fa("vanilla.hashBangLocation",!1,sc,rb),dd=Fa("vanilla.pushStateLocation",!0,uc,rb),ed=Fa("vanilla.memoryLocation",!1,tc,vc),fd=function(){function b(){}b.prototype.dispose=function(a){};return b}(),ze=Object.freeze({__proto__:null,root:ca,fromJson:Qb,toJson:Rb,forEach:aa,extend:k,equals:Ha,identity:G,noop:K,createProxyFunctions:ea,inherit:oa,inArray:Q,_inArray:xb,removeFrom:M,_removeFrom:yb,pushTo:Sb,_pushTo:zb,deregAll:Tb,defaults:Y,mergeR:Ia,ancestors:Ab,pick:sa,omit:ta,pluck:yc,filter:za,find:U,
mapObj:gb,map:O,values:W,allTrueR:hb,anyTrueR:ib,unnestR:z,flattenR:Ja,pushR:Aa,uniqR:qa,unnest:jb,flatten:Yc,assertPredicate:fa,assertMap:fa,assertFn:fa,pairs:Zc,arrayTuples:ha,applyPairs:ua,tail:H,copy:Ra,_extend:Bb,silenceUncaughtInPromise:kb,silentRejection:Ka,makeStub:eb,services:m,Glob:Ca,curry:la,compose:ub,pipe:ma,prop:v,propEq:ba,parse:N,not:Z,and:vb,or:wb,all:va,any:Db,is:L,eq:Wc,val:D,invoke:xc,pattern:da,isUndefined:X,isDefined:l,isNull:cb,isNullOrUndefined:db,isFunction:r,isNumber:Hb,
isString:q,isObject:I,isArray:t,isDate:Sa,isRegExp:Ta,isInjectable:ra,isPromise:pa,Queue:La,maxLength:na,padString:Eb,kebobString:Ua,functionToString:Va,fnToString:Wa,stringify:E,beforeAfterSubstr:Ma,hostRegex:$c,stripLastPathElement:lb,splitHash:Za,splitQuery:$a,splitEqual:Ub,trimHashVal:Vb,splitOnDelim:Fb,joinNeighborsR:Gb,get Category(){return e.Category},Trace:Wb,trace:A,get DefType(){return e.DefType},Param:P,ParamTypes:mb,StateParams:Xb,ParamType:Na,PathNode:Oa,PathUtils:T,resolvePolicies:nb,
defaultResolvePolicy:ob,Resolvable:y,NATIVE_INJECTOR_TOKEN:"Native Injector",ResolveContext:R,resolvablesBuilder:Ib,StateBuilder:Zb,StateObject:pb,StateMatcher:$b,StateQueueManager:ac,StateRegistry:bc,StateService:nc,TargetState:V,get TransitionHookPhase(){return e.TransitionHookPhase},get TransitionHookScope(){return e.TransitionHookScope},HookBuilder:cc,matchState:Ba,RegisteredHook:Jb,makeEvent:Xa,get RejectType(){return e.RejectType},Rejection:B,Transition:Da,TransitionHook:J,TransitionEventType:oc,
defaultTransOpts:qb,TransitionService:mc,UrlRules:jc,UrlConfig:kc,UrlMatcher:ja,ParamFactory:fc,UrlMatcherFactory:gc,UrlRouter:hc,UrlRuleFactory:Pa,BaseUrlRule:xa,UrlService:lc,ViewService:ab,UIRouterGlobals:ic,UIRouter:Ya,$q:Ga,$injector:wa,BaseLocationServices:Qa,HashLocationService:sc,MemoryLocationService:tc,PushStateLocationService:uc,MemoryLocationConfig:vc,BrowserLocationConfig:rb,keyValsToObjectR:pc,getParams:qc,parseUrl:Ea,buildUrl:rc,locationPluginFactory:Fa,servicesPlugin:Ec,hashLocationPlugin:cd,
pushStateLocationPlugin:dd,memoryLocationPlugin:ed,UIRouterPluginBase:fd}),Mb=function(b,a){return b.reduce(function(b,d){return b||l(a[d])},!1)},Ae=0,Lb=function(){function b(a,b,d){var c=this;this.path=a;this.viewDecl=b;this.factory=d;this.$id=Ae++;this.loaded=!1;this.getTemplate=function(a,b){return c.component?c.factory.makeComponentTemplate(a,b,c.component,c.viewDecl.bindings):c.template}}b.prototype.load=function(){var a=this,b=m.$q,d=new R(this.path),f=this.path.reduce(function(a,b){return k(a,
b.paramValues)},{});d={template:b.when(this.factory.fromConfig(this.viewDecl,f,d)),controller:b.when(this.getController(d))};return b.all(d).then(function(b){A.traceViewServiceEvent("Loaded",a);a.controller=b.controller;k(a,b.template);return a})};b.prototype.getController=function(a){var b=this.viewDecl.controllerProvider;if(!ra(b))return this.viewDecl.controller;var d=m.$injector.annotate(b);b=t(b)?H(b):b;return(new y("",b,d)).get(a)};return b}(),Be=function(){function b(){var a=this;this._useHttp=
3>F.version.minor;this.$get=["$http","$templateCache","$injector",function(b,d,f){a.$templateRequest=f.has&&f.has("$templateRequest")&&f.get("$templateRequest");a.$http=b;a.$templateCache=d;return a}]}b.prototype.useHttpService=function(a){this._useHttp=a};b.prototype.fromConfig=function(a,b,d){var c=function(a){return m.$q.when(a).then(function(a){return{template:a}})},e=function(a){return m.$q.when(a).then(function(a){return{component:a}})};return l(a.template)?c(this.fromString(a.template,b)):
l(a.templateUrl)?c(this.fromUrl(a.templateUrl,b)):l(a.templateProvider)?c(this.fromProvider(a.templateProvider,b,d)):l(a.component)?e(a.component):l(a.componentProvider)?e(this.fromComponentProvider(a.componentProvider,b,d)):c("\x3cui-view\x3e\x3c/ui-view\x3e")};b.prototype.fromString=function(a,b){return r(a)?a(b):a};b.prototype.fromUrl=function(a,b){r(a)&&(a=a(b));return null==a?null:this._useHttp?this.$http.get(a,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(a){return a.data}):
this.$templateRequest(a)};b.prototype.fromProvider=function(a,b,d){b=m.$injector.annotate(a);a=t(a)?H(a):a;return(new y("",a,b)).get(d)};b.prototype.fromComponentProvider=function(a,b,d){b=m.$injector.annotate(a);a=t(a)?H(a):a;return(new y("",a,b)).get(d)};b.prototype.makeComponentTemplate=function(a,b,d,f){f=f||{};var c=3<=F.version.minor?"::":"",e=function(a){a=Ua(a);return/^(x|data)-/.exec(a)?"x-"+a:a},k=Dd(d).map(function(d){var g=d.name,h=d.type;d=e(g);if(a.attr(d)&&!f[g])return d+"\x3d'"+a.attr(d)+
"'";g=f[g]||g;if("@"===h)return d+"\x3d'{{"+c+"$resolve."+g+"}}'";if("\x26"===h){var k=(h=b.getResolvable(g))&&h.data;h=k&&m.$injector.annotate(k)||[];k=t(k)?"["+(k.length-1)+"]":"";return d+"\x3d'$resolve."+g+k+"("+h.join(",")+")'"}return d+"\x3d'"+c+"$resolve."+g+"'"}).join(" ");d=e(d);return"\x3c"+d+" "+k+"\x3e\x3c/"+d+"\x3e"};return b}(),Ed=function(b){return I(b.bindToController)?gd(b.bindToController):gd(b.scope)},gd=function(b){return Object.keys(b||{}).map(function(a){return[a,/^([=<@&])[?]?(.*)/.exec(b[a])]}).filter(function(a){return l(a)&&
t(a[1])}).map(function(a){return{name:a[1][2]||a[0],type:a[1][1]}})},Ic=function(){function b(a,c){this.stateRegistry=a;this.stateService=c;ea(D(b.prototype),this,D(this))}b.prototype.decorator=function(a,b){return this.stateRegistry.decorator(a,b)||this};b.prototype.state=function(a,b){I(a)?b=a:b.name=a;this.stateRegistry.register(b);return this};b.prototype.onInvalid=function(a){return this.stateService.onInvalid(a)};return b}(),Nb=function(b){return function(a,c){function d(a,b){var c=(new R(a.treeChanges(e))).subContext(b.$$state());
a=k(Pb(c),{$state$:b,$transition$:a});return m.$injector.invoke(f,this,a)}var f=a[b],e="onExit"===b?"from":"to";return f?d:void 0}},Jc=function(){function b(a){this._urlListeners=[];this.$locationProvider=a;a=D(a);ea(a,this,a,["hashPrefix"])}b.monkeyPatchPathParameterType=function(a){a=a.urlMatcherFactory.type("path");a.encode=function(a){return null!=a?a.toString().replace(/(~|\/)/g,function(a){return{"~":"~~","/":"~2F"}[a]}):a};a.decode=function(a){return null!=a?a.toString().replace(/(~~|~2F)/g,
function(a){return{"~~":"~","~2F":"/"}[a]}):a}};b.prototype.dispose=function(){};b.prototype.onChange=function(a){var b=this;this._urlListeners.push(a);return function(){return M(b._urlListeners)(a)}};b.prototype.html5Mode=function(){var a=this.$locationProvider.html5Mode();return(a=I(a)?a.enabled:a)&&this.$sniffer.history};b.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)};b.prototype.url=function(a,b,d){void 0===b&&(b=
!1);l(a)&&this.$location.url(a);b&&this.$location.replace();d&&this.$location.state(d);return this.$location.url()};b.prototype._runtimeServices=function(a,b,d,e,g){var c=this;this.$location=b;this.$sniffer=d;this.$browser=e;this.$window=g;a.$on("$locationChangeSuccess",function(a){return c._urlListeners.forEach(function(b){return b(a)})});a=D(b);ea(a,this,a,["replace","path","search","hash"]);ea(a,this,a,["port","protocol","host"])};return b}(),hd=function(){function b(a){this.router=a}b.injectableHandler=
function(a,b){return function(c){return m.$injector.invoke(b,null,{$match:c,$stateParams:a.globals.params})}};b.prototype.$get=function(){var a=this.router.urlService;this.router.urlRouter.update(!0);a.interceptDeferred||a.listen();return this.router.urlRouter};b.prototype.rule=function(a){var b=this;if(!r(a))throw Error("'rule' must be a function");var d=new xa(function(){return a(m.$injector,b.router.locationService)},G);this.router.urlService.rules.rule(d);return this};b.prototype.otherwise=function(a){var b=
this,d=this.router.urlService.rules;if(q(a))d.otherwise(a);else if(r(a))d.otherwise(function(){return a(m.$injector,b.router.locationService)});else throw Error("'rule' must be a string or function");return this};b.prototype.when=function(a,c){if(t(c)||r(c))c=b.injectableHandler(this.router,c);this.router.urlService.rules.when(a,c);return this};b.prototype.deferIntercept=function(a){this.router.urlService.deferIntercept(a)};return b}();F.module("ui.router.angular1",[]);var id=F.module("ui.router.init",
["ng"]),sb=F.module("ui.router.util",["ui.router.init"]),jd=F.module("ui.router.router",["ui.router.util"]),ya=F.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),wc=F.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]);F.module("ui.router.compat",["ui.router"]);var C=null;Hc.$inject=["$locationProvider"];var tb=function(b){return["$uiRouterProvider",function(a){var c=a.router[b];c.$get=function(){return c};return c}]};Kc.$inject=["$injector",
"$q","$uiRouter"];Ob.$inject=["$rootScope"];id.provider("$uiRouter",Hc);jd.provider("$urlRouter",["$uiRouterProvider",function(b){return b.urlRouterProvider=new hd(b)}]);sb.provider("$urlService",tb("urlService"));sb.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return C.urlMatcherFactory}]);sb.provider("$templateFactory",function(){return new Be});ya.provider("$stateRegistry",tb("stateRegistry"));ya.provider("$uiRouterGlobals",tb("globals"));ya.provider("$transitions",tb("transitionService"));
ya.provider("$state",["$uiRouterProvider",function(){return k(C.stateProvider,{$get:function(){return C.stateService}})}]);ya.factory("$stateParams",["$uiRouter",function(b){return b.globals.params}]);wc.factory("$view",function(){return C.viewService});wc.service("$trace",function(){return A});wc.run(Ob);sb.run(["$urlMatcherFactory",function(b){}]);ya.run(["$state",function(b){}]);jd.run(["$urlRouter",function(b){}]);id.run(Kc);var Pb=function(b){return b.getTokens().filter(q).map(function(a){var c=
b.getResolvable(a),d=b.getPolicy(c).async;return[a,"NOWAIT"===d?c.promise:c.data]}).reduce(ua,{})};var kd=["$state","$stateParams","$interpolate","$uiRouter",function(b,a,c,d){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,e,h){function f(a){a.promise.then(l,K)}function g(){k(v)}function k(b){I(b)&&(m=[],aa(b,function(b,c){var d=function(b,c){b=Lc(b);n(b.state,a.$eval(b.paramExpr),c)};q(b)?d(b,c):t(b)&&aa(b,function(a){d(a,c)})}))}function n(a,c,d){var f={state:b.get(a,Mc(e))||
{name:a},params:c,activeClass:d};m.push(f);return function(){M(m)(f)}}function l(){var c=function(a){return a.split(/\s/).filter(G)},d=function(a){return a.map(function(a){return a.activeClass}).map(c).reduce(z,[])},f=d(m).concat(c(r)).reduce(qa,[]);d=d(m.filter(function(a){return b.includes(a.state.name,a.params)}));var g=m.filter(function(a){return b.is(a.state.name,a.params)}).length?c(r):[],h=d.concat(g).reduce(qa,[]),k=f.filter(function(a){return!Q(h,a)});a.$evalAsync(function(){h.forEach(function(a){return e.addClass(a)});
k.forEach(function(a){return e.removeClass(a)})})}var m=[];var r=c(h.uiSrefActiveEq||"",!1)(a);try{var v=a.$eval(h.uiSrefActive)}catch(Ce){}v=v||c(h.uiSrefActive||"",!1)(a);k(v);this.$$addStateInfo=function(a,b){if(!(I(v)&&0<m.length))return a=n(a,b,v),l(),a};a.$on("$destroy",function(){var b=d.stateRegistry.onStatesChanged(g),c=d.transitionService.onStart({},f),e=a.$on("$stateChangeSuccess",l);return function(){b();c();e()}}());d.globals.transition&&f(d.globals.transition);l()}]}}];F.module("ui.router.state").directive("uiSref",
["$uiRouter","$timeout",function(b,a){var c=b.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,g,h){function f(){var a=q();n&&n();m&&(n=m.$$addStateInfo(a.uiState,a.uiStateParams));null!=a.href&&g.$set(l.attr,a.href)}var l=Oc(e),m=h[1]||h[0],n=null,u={},q=function(){return Nc(c,e,u)};h=Lc(g.uiSref);u.uiState=h.state;u.uiStateOpts=g.uiSrefOpts?d.$eval(g.uiSrefOpts):{};h.paramExpr&&(d.$watch(h.paramExpr,function(a){u.uiStateParams=k({},a);f()},!0),u.uiStateParams=
k({},d.$eval(h.paramExpr)));f();d.$on("$destroy",b.stateRegistry.onStatesChanged(f));d.$on("$destroy",b.transitionService.onSuccess({},f));l.clickable&&(h=Pc(e,c,a,l,q),Qc(e,d,h,u.uiStateOpts))}}}]).directive("uiSrefActive",kd).directive("uiSrefActiveEq",kd).directive("uiState",["$uiRouter","$timeout",function(b,a){var c=b.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,g,h){function f(){var a=q();n&&n();l&&(n=l.$$addStateInfo(a.uiState,a.uiStateParams));
null!=a.href&&g.$set(k.attr,a.href)}var k=Oc(e),l=h[1]||h[0],n=null,m={},q=function(){return Nc(c,e,m)};h=["uiState","uiStateParams","uiStateOpts"];var r=h.reduce(function(a,b){return a[b]=K,a},{});h.forEach(function(a){m[a]=g[a]?d.$eval(g[a]):null;g.$observe(a,function(b){r[a]();r[a]=d.$watch(b,function(b){m[a]=b;f()},!0)})});f();d.$on("$destroy",b.stateRegistry.onStatesChanged(f));d.$on("$destroy",b.transitionService.onSuccess({},f));k.clickable&&(h=Pc(e,c,a,k,q),Qc(e,d,h,m.uiStateOpts))}}}]);Rc.$inject=
["$state"];Sc.$inject=["$state"];F.module("ui.router.state").filter("isState",Rc).filter("includedByState",Sc);Tc.$inject="$compile $controller $transitions $view $q $timeout".split(" ");var Fd="function"===typeof F.module("ui.router").component,Gd=0;F.module("ui.router.state").directive("uiView",["$view","$animate","$uiViewScroll","$interpolate","$q",function(b,a,c,d,e){function f(b,c){return{enter:function(b,c,d){2<F.version.minor?a.enter(b,null,c).then(d):a.enter(b,null,c,d)},leave:function(b,
c){2<F.version.minor?a.leave(b).then(c):a.leave(b,c)}}}var h={$cfg:{viewDecl:{$context:b._pluginapi._rootViewContext()}},$uiView:{}},k={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(a,g,n){return function(a,g,m){function p(){x&&(A.traceUIViewEvent("Removing (previous) el",x.data("$uiView")),x.remove(),x=null);y&&(A.traceUIViewEvent("Destroying scope",B),y.$destroy(),y=null);if(z){var a=z.data("$uiViewAnim");A.traceUIViewEvent("Animate out",a);v.leave(z,function(){a.$$animLeave.resolve();
x=null});x=z;z=null}}function q(b){var d=a.$new(),f=e.defer(),h=e.defer(),k={$cfg:b,$uiView:B},m={$animEnter:f.promise,$animLeave:h.promise,$$animLeave:h};d.$emit("$viewContentLoading",w);z=n(d,function(b){b.data("$uiViewAnim",m);b.data("$uiView",k);v.enter(b,g,function(){f.resolve();y&&y.$emit("$viewContentAnimationEnded");(l(t)&&!t||a.$eval(t))&&c(b)});p()});y=d;y.$emit("$viewContentLoaded",b||C);y.$eval(r)}var r=m.onload||"",t=m.autoscroll,v=f(),u=g.inheritedData("$uiView")||h,w=d(m.uiView||m.name||
"")(a)||"$default",x,z,y,C,B={$type:"ng1",id:k.count++,name:w,fqn:u.$uiView.fqn?u.$uiView.fqn+"."+w:w,config:null,configUpdated:function(a){(!a||a instanceof Lb)&&C!==a&&(A.traceUIViewConfigUpdated(B,a&&a.viewDecl&&a.viewDecl.$context),C=a,q(a))},get creationContext(){var a=N("$cfg.viewDecl.$context")(u),b=N("$uiView.creationContext")(u);return a||b}};A.traceUIViewEvent("Linking",B);g.data("$uiView",{$uiView:B});q();var D=b.registerUIView(B);a.$on("$destroy",function(){A.traceUIViewEvent("Destroying/Unregistering",
B);D()})}}};return k}]);F.module("ui.router.state").directive("uiView",Tc);F.module("ui.router.state").provider("$uiViewScroll",function(){var b=!1;this.useAnchorScroll=function(){b=!0};this.$get=["$anchorScroll","$timeout",function(a,c){return b?a:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]});e.$injector=wa;e.$q=Ga;e.BaseLocationServices=Qa;e.BaseUrlRule=xa;e.BrowserLocationConfig=rb;e.Glob=Ca;e.HashLocationService=sc;e.HookBuilder=cc;e.MemoryLocationConfig=vc;e.MemoryLocationService=
tc;e.NATIVE_INJECTOR_TOKEN="Native Injector";e.Ng1ViewConfig=Lb;e.Param=P;e.ParamFactory=fc;e.ParamType=Na;e.ParamTypes=mb;e.PathNode=Oa;e.PathUtils=T;e.PushStateLocationService=uc;e.Queue=La;e.RegisteredHook=Jb;e.Rejection=B;e.Resolvable=y;e.ResolveContext=R;e.StateBuilder=Zb;e.StateMatcher=$b;e.StateObject=pb;e.StateParams=Xb;e.StateProvider=Ic;e.StateQueueManager=ac;e.StateRegistry=bc;e.StateService=nc;e.TargetState=V;e.Trace=Wb;e.Transition=Da;e.TransitionEventType=oc;e.TransitionHook=J;e.TransitionService=
mc;e.UIRouter=Ya;e.UIRouterGlobals=ic;e.UIRouterPluginBase=fd;e.UrlConfig=kc;e.UrlMatcher=ja;e.UrlMatcherFactory=gc;e.UrlRouter=hc;e.UrlRouterProvider=hd;e.UrlRuleFactory=Pa;e.UrlRules=jc;e.UrlService=lc;e.ViewService=ab;e._extend=Bb;e._inArray=xb;e._pushTo=zb;e._removeFrom=yb;e.all=va;e.allTrueR=hb;e.ancestors=Ab;e.and=vb;e.any=Db;e.anyTrueR=ib;e.applyPairs=ua;e.arrayTuples=ha;e.assertFn=fa;e.assertMap=fa;e.assertPredicate=fa;e.beforeAfterSubstr=Ma;e.buildUrl=rc;e.compose=ub;e.copy=Ra;e.core=ze;
e.createProxyFunctions=ea;e.curry=la;e.default="ui.router";e.defaultResolvePolicy=ob;e.defaultTransOpts=qb;e.defaults=Y;e.deregAll=Tb;e.eq=Wc;e.equals=Ha;e.extend=k;e.filter=za;e.find=U;e.flatten=Yc;e.flattenR=Ja;e.fnToString=Wa;e.forEach=aa;e.fromJson=Qb;e.functionToString=Va;e.getLocals=Pb;e.getNg1ViewConfigFactory=Fc;e.getParams=qc;e.hashLocationPlugin=cd;e.hostRegex=$c;e.identity=G;e.inArray=Q;e.inherit=oa;e.invoke=xc;e.is=L;e.isArray=t;e.isDate=Sa;e.isDefined=l;e.isFunction=r;e.isInjectable=
ra;e.isNull=cb;e.isNullOrUndefined=db;e.isNumber=Hb;e.isObject=I;e.isPromise=pa;e.isRegExp=Ta;e.isString=q;e.isUndefined=X;e.joinNeighborsR=Gb;e.kebobString=Ua;e.keyValsToObjectR=pc;e.locationPluginFactory=Fa;e.makeEvent=Xa;e.makeStub=eb;e.map=O;e.mapObj=gb;e.matchState=Ba;e.maxLength=na;e.memoryLocationPlugin=ed;e.mergeR=Ia;e.ng1ViewsBuilder=Gc;e.noop=K;e.not=Z;e.omit=ta;e.or=wb;e.padString=Eb;e.pairs=Zc;e.parse=N;e.parseUrl=Ea;e.pattern=da;e.pick=sa;e.pipe=ma;e.pluck=yc;e.prop=v;e.propEq=ba;e.pushR=
Aa;e.pushStateLocationPlugin=dd;e.pushTo=Sb;e.removeFrom=M;e.resolvablesBuilder=Ib;e.resolvePolicies=nb;e.root=ca;e.services=m;e.servicesPlugin=Ec;e.silenceUncaughtInPromise=kb;e.silentRejection=Ka;e.splitEqual=Ub;e.splitHash=Za;e.splitOnDelim=Fb;e.splitQuery=$a;e.stringify=E;e.stripLastPathElement=lb;e.tail=H;e.toJson=Rb;e.trace=A;e.trimHashVal=Vb;e.uniqR=qa;e.unnest=jb;e.unnestR=z;e.val=D;e.values=W;e.watchDigests=Ob;Object.defineProperty(e,"__esModule",{value:!0})});